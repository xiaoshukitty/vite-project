import{d as e,c as a,f as t,u as l,E as s,_ as i,o as n,w as o,q as r}from"./el-icon-exrMpsb-.js";import{u,a as c,_ as v,M as d}from"./index-HQmxy8z3.js";import{h as m,r as p,j as f,y as h,w as g,s as y,l as I,ai as _,a1 as k,g as b,e as w,aj as x,f as C,o as M,c as S,A as E,B as j,C as H,x as N,I as T,ak as B,H as L,p as A,m as D,T as P,q as $,al as R,z as V,K as O,F as z,a2 as q,J as K,$ as U,R as W,am as F,a0 as J,_ as X,aa as Y,ac as G,ad as Q}from"./index-2J492Ujv.js";import{u as Z}from"./index-dm8FZ-PY.js";import{f as ee}from"./vnode-F5Z8QhHh.js";import{t as ae,P as te}from"./index-ohehYsVt.js";import"./index-J504GgKA.js";import"./index-v1K1KmsI.js";const le=e({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),se={change:(e,t)=>[e,t].every(a)},ie=Symbol("carouselContextKey"),ne=(e,a,l)=>{const{children:s,addChild:i,removeChild:n}=Z(b(),"ElCarouselItem"),o=m(),r=p(-1),u=p(null),c=p(!1),v=p(),d=p(0),C=p(!0),M=f((()=>"never"!==e.arrow&&!h(j))),S=f((()=>s.value.some((e=>e.props.label.toString().length>0)))),E=f((()=>"card"===e.type)),j=f((()=>"vertical"===e.direction)),H=f((()=>"auto"!==e.height?{height:e.height}:{height:`${d.value}px`,overflow:"hidden"})),N=ae((e=>{D(e)}),300,{trailing:!0}),T=ae((a=>{!function(a){"hover"===e.trigger&&a!==r.value&&(r.value=a)}(a)}),300);function B(){u.value&&(clearInterval(u.value),u.value=null)}function L(){e.interval<=0||!e.autoplay||u.value||(u.value=setInterval((()=>A()),e.interval))}const A=()=>{r.value<s.value.length-1?r.value=r.value+1:e.loop&&(r.value=0)};function D(a){if(w(a)){const e=s.value.filter((e=>e.props.name===a));e.length>0&&(a=s.value.indexOf(e[0]))}if(a=Number(a),Number.isNaN(a)||a!==Math.floor(a))return;const t=s.value.length,l=r.value;r.value=a<0?e.loop?t-1:0:a>=t?e.loop?0:t-1:a,l===r.value&&P(l),$()}function P(e){s.value.forEach(((a,t)=>{a.translateItem(t,r.value,e)}))}function $(){B(),e.pauseOnHover||L()}g((()=>r.value),((e,t)=>{P(t),C.value&&(e%=2,t%=2),t>-1&&a("change",e,t)})),g((()=>e.autoplay),(e=>{e?L():B()})),g((()=>e.loop),(()=>{D(r.value)})),g((()=>e.interval),(()=>{$()}));const R=y();return I((()=>{g((()=>s.value),(()=>{s.value.length>0&&D(e.initialIndex)}),{immediate:!0}),R.value=t(v.value,(()=>{P()})),L()})),_((()=>{B(),v.value&&R.value&&R.value.stop()})),k(ie,{root:v,isCardType:E,isVertical:j,items:s,loop:e.loop,addItem:i,removeItem:n,setActiveItem:D,setContainerHeight:function(a){"auto"===e.height&&(d.value=a)}}),{root:v,activeIndex:r,arrowDisplay:M,hasLabel:S,hover:c,isCardType:E,items:s,isVertical:j,containerStyle:H,isItemsTwoLength:C,handleButtonEnter:function(e){h(j)||s.value.forEach(((a,t)=>{e===function(e,a){var t,l,i,n;const o=h(s),r=o.length;if(0===r||!e.states.inStage)return!1;const u=a+1,c=a-1,v=r-1,d=o[v].states.active,m=o[0].states.active,p=null==(l=null==(t=o[u])?void 0:t.states)?void 0:l.active,f=null==(n=null==(i=o[c])?void 0:i.states)?void 0:n.active;return a===v&&m||p?"left":!!(0===a&&d||f)&&"right"}(a,t)&&(a.states.hover=!0)}))},handleButtonLeave:function(){h(j)||s.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){r.value=e},handleMouseEnter:function(){c.value=!0,e.pauseOnHover&&B()},handleMouseLeave:function(){c.value=!1,L()},setActiveItem:D,prev:function(){D(r.value-1)},next:function(){D(r.value+1)},PlaceholderItem:function(){var a;const t=null==(a=o.default)?void 0:a.call(o);if(!t)return null;const l=ee(t).filter((e=>x(e)&&"ElCarouselItem"===e.type.name));return 2===(null==l?void 0:l.length)&&e.loop&&!E.value?(C.value=!0,l):(C.value=!1,null)},isTwoLengthShow:e=>!C.value||(r.value<=1?e<=1:e>1),throttledArrowClick:N,throttledIndicatorHover:T}},oe=["onMouseenter","onClick"],re={key:0},ue=C({name:"ElCarousel"});var ce=i(C({...ue,props:le,emits:se,setup(e,{expose:a,emit:t}){const i=e,{root:n,activeIndex:o,arrowDisplay:r,hasLabel:u,hover:c,isCardType:v,items:d,isVertical:m,containerStyle:p,handleButtonEnter:g,handleButtonLeave:y,handleIndicatorClick:I,handleMouseEnter:_,handleMouseLeave:k,setActiveItem:b,prev:w,next:x,PlaceholderItem:C,isTwoLengthShow:U,throttledArrowClick:W,throttledIndicatorHover:F}=ne(i,t),J=l("carousel"),X=f((()=>{const e=[J.b(),J.m(i.direction)];return h(v)&&e.push(J.m("card")),e})),Y=f((()=>{const e=[J.e("indicators"),J.em("indicators",i.direction)];return h(u)&&e.push(J.em("indicators","labels")),"outside"===i.indicatorPosition&&e.push(J.em("indicators","outside")),h(m)&&e.push(J.em("indicators","right")),e}));return a({setActiveItem:b,prev:w,next:x}),(e,a)=>(M(),S("div",{ref_key:"root",ref:n,class:N(h(X)),onMouseenter:a[6]||(a[6]=T(((...e)=>h(_)&&h(_)(...e)),["stop"])),onMouseleave:a[7]||(a[7]=T(((...e)=>h(k)&&h(k)(...e)),["stop"]))},[E("div",{class:N(h(J).e("container")),style:O(h(p))},[h(r)?(M(),j(P,{key:0,name:"carousel-arrow-left",persisted:""},{default:H((()=>[D(E("button",{type:"button",class:N([h(J).e("arrow"),h(J).em("arrow","left")]),onMouseenter:a[0]||(a[0]=e=>h(g)("left")),onMouseleave:a[1]||(a[1]=(...e)=>h(y)&&h(y)(...e)),onClick:a[2]||(a[2]=T((e=>h(W)(h(o)-1)),["stop"]))},[L(h(s),null,{default:H((()=>[L(h(B))])),_:1})],34),[[A,("always"===e.arrow||h(c))&&(i.loop||h(o)>0)]])])),_:1})):$("v-if",!0),h(r)?(M(),j(P,{key:1,name:"carousel-arrow-right",persisted:""},{default:H((()=>[D(E("button",{type:"button",class:N([h(J).e("arrow"),h(J).em("arrow","right")]),onMouseenter:a[3]||(a[3]=e=>h(g)("right")),onMouseleave:a[4]||(a[4]=(...e)=>h(y)&&h(y)(...e)),onClick:a[5]||(a[5]=T((e=>h(W)(h(o)+1)),["stop"]))},[L(h(s),null,{default:H((()=>[L(h(R))])),_:1})],34),[[A,("always"===e.arrow||h(c))&&(i.loop||h(o)<h(d).length-1)]])])),_:1})):$("v-if",!0),L(h(C)),V(e.$slots,"default")],6),"none"!==e.indicatorPosition?(M(),S("ul",{key:0,class:N(h(Y))},[(M(!0),S(z,null,q(h(d),((a,t)=>D((M(),S("li",{key:t,class:N([h(J).e("indicator"),h(J).em("indicator",e.direction),h(J).is("active",t===h(o))]),onMouseenter:e=>h(F)(t),onClick:T((e=>h(I)(t)),["stop"])},[E("button",{class:N(h(J).e("button"))},[h(u)?(M(),S("span",re,K(a.props.label),1)):$("v-if",!0)],2)],42,oe)),[[A,h(U)(t)]]))),128))],2)):$("v-if",!0)],34))}}),[["__file","carousel.vue"]]);const ve=e({name:{type:String,default:""},label:{type:[String,Number],default:""}}),de=(e,a)=>{const t=U(ie),l=b(),s=.83,i=p(),o=p(!1),r=p(0),u=p(1),c=p(!1),v=p(!1),d=p(!1),m=p(!1),{isCardType:f,isVertical:g}=t;const y=(e,a,l)=>{var o;const p=h(f),y=null!=(o=t.items.value.length)?o:Number.NaN,I=e===a;p||n(l)||(m.value=I||e===l),!I&&y>2&&t.loop&&(e=function(e,a,t){const l=t-1,s=t/2;return 0===a&&e===l?-1:a===l&&0===e?t:e<a-1&&a-e>=s?t+1:e>a+1&&e-a>=s?-2:e}(e,a,y));const _=h(g);c.value=I,p?(d.value=Math.round(Math.abs(e-a))<=1,r.value=function(e,a){var l,s;const i=h(g)?(null==(l=t.root.value)?void 0:l.offsetHeight)||0:(null==(s=t.root.value)?void 0:s.offsetWidth)||0;return d.value?i*(1.17*(e-a)+1)/4:e<a?-1.83*i/4:3.83*i/4}(e,a),u.value=h(c)?1:s):r.value=function(e,a,l){const s=t.root.value;return s?((l?s.offsetHeight:s.offsetWidth)||0)*(e-a):0}(e,a,_),v.value=!0,I&&i.value&&t.setContainerHeight(i.value.offsetHeight)};return I((()=>{t.addItem({props:e,states:W({hover:o,translate:r,scale:u,active:c,ready:v,inStage:d,animating:m}),uid:l.uid,translateItem:y})})),F((()=>{t.removeItem(l.uid)})),{carouselItemRef:i,active:c,animating:m,hover:o,inStage:d,isVertical:g,translate:r,isCardType:f,scale:u,ready:v,handleItemClick:function(){if(t&&h(f)){const e=t.items.value.findIndex((({uid:e})=>e===l.uid));t.setActiveItem(e)}}}},me=C({name:"ElCarouselItem"});var pe=i(C({...me,props:ve,setup(e){const a=e,t=l("carousel"),{carouselItemRef:s,active:i,animating:n,hover:o,inStage:r,isVertical:u,translate:c,isCardType:v,scale:d,ready:m,handleItemClick:p}=de(a),g=f((()=>({transform:[`${"translate"+(h(u)?"Y":"X")}(${h(c)}px)`,`scale(${h(d)})`].join(" ")})));return(e,a)=>D((M(),S("div",{ref_key:"carouselItemRef",ref:s,class:N([h(t).e("item"),h(t).is("active",h(i)),h(t).is("in-stage",h(r)),h(t).is("hover",h(o)),h(t).is("animating",h(n)),{[h(t).em("item","card")]:h(v),[h(t).em("item","card-vertical")]:h(v)&&h(u)}]),style:O(h(g)),onClick:a[0]||(a[0]=(...e)=>h(p)&&h(p)(...e))},[h(v)?D((M(),S("div",{key:0,class:N(h(t).e("mask"))},null,2)),[[A,!h(i)]]):$("v-if",!0),V(e.$slots,"default")],6)),[[A,h(m)]])}}),[["__file","carousel-item.vue"]]);const fe=o(ce,{CarouselItem:pe}),he=r(pe),ge={class:"swiper"},ye=["src","onClick"],Ie=X(C({__name:"index",setup(e){const{getBanners:a}=u(),{banners:t}=J(u());I((async()=>{await a()}));return(e,a)=>{const l=he,s=fe;return M(),S("div",ge,[L(s,{interval:2e3,type:"card",height:"250px",trigger:"click","pause-on-hover":!1,autoplay:!1},{default:H((()=>[(M(!0),S(z,null,q(h(t),(e=>(M(),j(l,{key:e.bannerId},{default:H((()=>[E("img",{class:"swiper_img",src:e.pic,alt:"",onClick:e=>{}},null,8,ye)])),_:2},1024)))),128))])),_:1})])}}}),[["__scopeId","data-v-fa860417"]]),_e={class:"exclusive_playlist"},ke={class:"block"},be={class:"block_item"},we={class:"text"},xe=X(C({__name:"index",setup(e){const{exclusivePlaylistData:a}=J(c()),{getExclusivePlaylistData:t}=c();return I((async()=>{await t()})),(e,t)=>(M(),S("div",_e,[L(v,{title:"专属歌单"}),E("div",ke,[(M(!0),S(z,null,q(h(a),((e,a)=>(M(),S("div",{class:"block_list",key:a},[E("div",be,[L(te,{imgSrc:e.picUrl},null,8,["imgSrc"])]),E("div",we,K(e.name),1)])))),128))])]))}}),[["__scopeId","data-v-2cd979ce"]]),Ce={class:"RecommendedMusic"},Me={class:"music_list"},Se=["onDblclick"],Ee=["src"],je={class:"music_item_right"},He=X(C({__name:"index",setup(e){const{recommendedMusicData:a}=J(c()),{getRecommendedMusicData:t}=c(),{playMusic:l}=Y();return I((async()=>{await t()})),(e,t)=>(M(),S("div",Ce,[L(v,{title:"推荐新音乐"}),E("div",Me,[(M(!0),S(z,null,q(h(a),(e=>(M(),S("div",{class:"music_item",key:e.id,onDblclick:a=>h(l)(e.id)},[E("img",{src:e.picUrl,alt:""},null,8,Ee),E("div",je,[E("div",null,K(e.name),1),E("div",null,K(e.song.artists[0].name),1)])],40,Se)))),128))])]))}}),[["__scopeId","data-v-0aa15fa7"]]),Ne={class:"discover"},Te=(e=>(G("data-v-42bdcabc"),e=e(),Q(),e))((()=>E("h1",null,"推荐",-1))),Be=X(C({__name:"index",setup:e=>(e,a)=>(M(),S("div",Ne,[Te,L(Ie),L(xe),L(He),L(d)]))}),[["__scopeId","data-v-42bdcabc"]]);export{Be as default};
