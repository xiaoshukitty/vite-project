import{e,c as a,h as t,g as l,E as s,_ as n,l as i,w as o,n as r}from"./base-8IB1y62V.js";import{u,f as c,a as v,b as d,_ as m,M as p}from"./index-n35mjeQe.js";import{n as h,r as f,d as g,u as y,w as I,s as _,f as b,O as k,P as w,j as C,a4 as x,g as S,k as M,o as E,c as H,C as L,D as N,E as T,A as B,J as P,a5 as A,I as D,y as j,x as V,T as $,z as O,a6 as R,B as z,L as K,F as U,X as W,K as X,i as F,Q as J,h as Q,a7 as Y,_ as q,a8 as G,a9 as Z}from"./index-Tuum5K4I.js";import{t as ee,P as ae}from"./index-4k1iAikC.js";const te=e({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),le={change:(e,t)=>[e,t].every(a)},se=Symbol("carouselContextKey"),ne=(e,a,l)=>{const{children:s,addChild:n,removeChild:i}=u(S(),"ElCarouselItem"),o=h(),r=f(-1),v=f(null),d=f(!1),m=f(),p=f(0),M=f(!0),E=g((()=>"never"!==e.arrow&&!y(N))),H=g((()=>s.value.some((e=>e.props.label.toString().length>0)))),L=g((()=>"card"===e.type)),N=g((()=>"vertical"===e.direction)),T=g((()=>"auto"!==e.height?{height:e.height}:{height:`${p.value}px`,overflow:"hidden"})),B=ee((e=>{V(e)}),300,{trailing:!0}),P=ee((a=>{!function(a){"hover"===e.trigger&&a!==r.value&&(r.value=a)}(a)}),300);function A(){v.value&&(clearInterval(v.value),v.value=null)}function D(){e.interval<=0||!e.autoplay||v.value||(v.value=setInterval((()=>j()),e.interval))}const j=()=>{r.value<s.value.length-1?r.value=r.value+1:e.loop&&(r.value=0)};function V(a){if(C(a)){const e=s.value.filter((e=>e.props.name===a));e.length>0&&(a=s.value.indexOf(e[0]))}if(a=Number(a),Number.isNaN(a)||a!==Math.floor(a))return;const t=s.value.length,l=r.value;r.value=a<0?e.loop?t-1:0:a>=t?e.loop?0:t-1:a,l===r.value&&$(l),O()}function $(e){s.value.forEach(((a,t)=>{a.translateItem(t,r.value,e)}))}function O(){A(),e.pauseOnHover||D()}I((()=>r.value),((e,t)=>{$(t),M.value&&(e%=2,t%=2),t>-1&&a("change",e,t)})),I((()=>e.autoplay),(e=>{e?D():A()})),I((()=>e.loop),(()=>{V(r.value)})),I((()=>e.interval),(()=>{O()}));const R=_();return b((()=>{I((()=>s.value),(()=>{s.value.length>0&&V(e.initialIndex)}),{immediate:!0}),R.value=t(m.value,(()=>{$()})),D()})),k((()=>{A(),m.value&&R.value&&R.value.stop()})),w(se,{root:m,isCardType:L,isVertical:N,items:s,loop:e.loop,addItem:n,removeItem:i,setActiveItem:V,setContainerHeight:function(a){"auto"===e.height&&(p.value=a)}}),{root:m,activeIndex:r,arrowDisplay:E,hasLabel:H,hover:d,isCardType:L,items:s,isVertical:N,containerStyle:T,isItemsTwoLength:M,handleButtonEnter:function(e){y(N)||s.value.forEach(((a,t)=>{e===function(e,a){var t,l,n,i;const o=y(s),r=o.length;if(0===r||!e.states.inStage)return!1;const u=a+1,c=a-1,v=r-1,d=o[v].states.active,m=o[0].states.active,p=null==(l=null==(t=o[u])?void 0:t.states)?void 0:l.active,h=null==(i=null==(n=o[c])?void 0:n.states)?void 0:i.active;return a===v&&m||p?"left":!!(0===a&&d||h)&&"right"}(a,t)&&(a.states.hover=!0)}))},handleButtonLeave:function(){y(N)||s.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){r.value=e},handleMouseEnter:function(){d.value=!0,e.pauseOnHover&&A()},handleMouseLeave:function(){d.value=!1,D()},setActiveItem:V,prev:function(){V(r.value-1)},next:function(){V(r.value+1)},PlaceholderItem:function(){var a;const t=null==(a=o.default)?void 0:a.call(o);if(!t)return null;const l=c(t).filter((e=>x(e)&&"ElCarouselItem"===e.type.name));return 2===(null==l?void 0:l.length)&&e.loop&&!L.value?(M.value=!0,l):(M.value=!1,null)},isTwoLengthShow:e=>!M.value||(r.value<=1?e<=1:e>1),throttledArrowClick:B,throttledIndicatorHover:P}},ie=["onMouseenter","onClick"],oe={key:0},re=M({name:"ElCarousel"});var ue=n(M({...re,props:te,emits:le,setup(e,{expose:a,emit:t}){const n=e,{root:i,activeIndex:o,arrowDisplay:r,hasLabel:u,hover:c,isCardType:v,items:d,isVertical:m,containerStyle:p,handleButtonEnter:h,handleButtonLeave:f,handleIndicatorClick:I,handleMouseEnter:_,handleMouseLeave:b,setActiveItem:k,prev:w,next:C,PlaceholderItem:x,isTwoLengthShow:S,throttledArrowClick:M,throttledIndicatorHover:F}=ne(n,t),J=l("carousel"),Q=g((()=>{const e=[J.b(),J.m(n.direction)];return y(v)&&e.push(J.m("card")),e})),Y=g((()=>{const e=[J.e("indicators"),J.em("indicators",n.direction)];return y(u)&&e.push(J.em("indicators","labels")),"outside"===n.indicatorPosition&&e.push(J.em("indicators","outside")),y(m)&&e.push(J.em("indicators","right")),e}));return a({setActiveItem:k,prev:w,next:C}),(e,a)=>(E(),H("div",{ref_key:"root",ref:i,class:B(y(Q)),onMouseenter:a[6]||(a[6]=P(((...e)=>y(_)&&y(_)(...e)),["stop"])),onMouseleave:a[7]||(a[7]=P(((...e)=>y(b)&&y(b)(...e)),["stop"]))},[L("div",{class:B(y(J).e("container")),style:K(y(p))},[y(r)?(E(),N($,{key:0,name:"carousel-arrow-left",persisted:""},{default:T((()=>[V(L("button",{type:"button",class:B([y(J).e("arrow"),y(J).em("arrow","left")]),onMouseenter:a[0]||(a[0]=e=>y(h)("left")),onMouseleave:a[1]||(a[1]=(...e)=>y(f)&&y(f)(...e)),onClick:a[2]||(a[2]=P((e=>y(M)(y(o)-1)),["stop"]))},[D(y(s),null,{default:T((()=>[D(y(A))])),_:1})],34),[[j,("always"===e.arrow||y(c))&&(n.loop||y(o)>0)]])])),_:1})):O("v-if",!0),y(r)?(E(),N($,{key:1,name:"carousel-arrow-right",persisted:""},{default:T((()=>[V(L("button",{type:"button",class:B([y(J).e("arrow"),y(J).em("arrow","right")]),onMouseenter:a[3]||(a[3]=e=>y(h)("right")),onMouseleave:a[4]||(a[4]=(...e)=>y(f)&&y(f)(...e)),onClick:a[5]||(a[5]=P((e=>y(M)(y(o)+1)),["stop"]))},[D(y(s),null,{default:T((()=>[D(y(R))])),_:1})],34),[[j,("always"===e.arrow||y(c))&&(n.loop||y(o)<y(d).length-1)]])])),_:1})):O("v-if",!0),D(y(x)),z(e.$slots,"default")],6),"none"!==e.indicatorPosition?(E(),H("ul",{key:0,class:B(y(Y))},[(E(!0),H(U,null,W(y(d),((a,t)=>V((E(),H("li",{key:t,class:B([y(J).e("indicator"),y(J).em("indicator",e.direction),y(J).is("active",t===y(o))]),onMouseenter:e=>y(F)(t),onClick:P((e=>y(I)(t)),["stop"])},[L("button",{class:B(y(J).e("button"))},[y(u)?(E(),H("span",oe,X(a.props.label),1)):O("v-if",!0)],2)],42,ie)),[[j,y(S)(t)]]))),128))],2)):O("v-if",!0)],34))}}),[["__file","carousel.vue"]]);const ce=e({name:{type:String,default:""},label:{type:[String,Number],default:""}}),ve=(e,a)=>{const t=F(se),l=S(),s=.83,n=f(),o=f(!1),r=f(0),u=f(1),c=f(!1),v=f(!1),d=f(!1),m=f(!1),{isCardType:p,isVertical:h}=t;const g=(e,a,l)=>{var o;const f=y(p),g=null!=(o=t.items.value.length)?o:Number.NaN,I=e===a;f||i(l)||(m.value=I||e===l),!I&&g>2&&t.loop&&(e=function(e,a,t){const l=t-1,s=t/2;return 0===a&&e===l?-1:a===l&&0===e?t:e<a-1&&a-e>=s?t+1:e>a+1&&e-a>=s?-2:e}(e,a,g));const _=y(h);c.value=I,f?(d.value=Math.round(Math.abs(e-a))<=1,r.value=function(e,a){var l,s;const n=y(h)?(null==(l=t.root.value)?void 0:l.offsetHeight)||0:(null==(s=t.root.value)?void 0:s.offsetWidth)||0;return d.value?n*(1.17*(e-a)+1)/4:e<a?-1.83*n/4:3.83*n/4}(e,a),u.value=y(c)?1:s):r.value=function(e,a,l){const s=t.root.value;return s?((l?s.offsetHeight:s.offsetWidth)||0)*(e-a):0}(e,a,_),v.value=!0,I&&n.value&&t.setContainerHeight(n.value.offsetHeight)};return b((()=>{t.addItem({props:e,states:J({hover:o,translate:r,scale:u,active:c,ready:v,inStage:d,animating:m}),uid:l.uid,translateItem:g})})),Q((()=>{t.removeItem(l.uid)})),{carouselItemRef:n,active:c,animating:m,hover:o,inStage:d,isVertical:h,translate:r,isCardType:p,scale:u,ready:v,handleItemClick:function(){if(t&&y(p)){const e=t.items.value.findIndex((({uid:e})=>e===l.uid));t.setActiveItem(e)}}}},de=M({name:"ElCarouselItem"});var me=n(M({...de,props:ce,setup(e){const a=e,t=l("carousel"),{carouselItemRef:s,active:n,animating:i,hover:o,inStage:r,isVertical:u,translate:c,isCardType:v,scale:d,ready:m,handleItemClick:p}=ve(a),h=g((()=>({transform:[`${"translate"+(y(u)?"Y":"X")}(${y(c)}px)`,`scale(${y(d)})`].join(" ")})));return(e,a)=>V((E(),H("div",{ref_key:"carouselItemRef",ref:s,class:B([y(t).e("item"),y(t).is("active",y(n)),y(t).is("in-stage",y(r)),y(t).is("hover",y(o)),y(t).is("animating",y(i)),{[y(t).em("item","card")]:y(v),[y(t).em("item","card-vertical")]:y(v)&&y(u)}]),style:K(y(h)),onClick:a[0]||(a[0]=(...e)=>y(p)&&y(p)(...e))},[y(v)?V((E(),H("div",{key:0,class:B(y(t).e("mask"))},null,2)),[[j,!y(n)]]):O("v-if",!0),z(e.$slots,"default")],6)),[[j,y(m)]])}}),[["__file","carousel-item.vue"]]);const pe=o(ue,{CarouselItem:me}),he=r(me),fe={class:"swiper"},ge=["src","onClick"],ye=q(M({__name:"index",setup(e){const{getBanners:a}=v(),{banners:t}=Y(v());b((async()=>{await a()}));return(e,a)=>{const l=he,s=pe;return E(),H("div",fe,[D(s,{interval:2e3,type:"card",height:"250px",trigger:"click","pause-on-hover":!1,autoplay:!0},{default:T((()=>[(E(!0),H(U,null,W(y(t),(e=>(E(),N(l,{key:e.bannerId},{default:T((()=>[L("img",{class:"swiper_img",src:e.pic,alt:"",onClick:e=>{}},null,8,ge)])),_:2},1024)))),128))])),_:1})])}}}),[["__scopeId","data-v-bd989d9b"]]),Ie={class:"exclusive_playlist"},_e={class:"block"},be={class:"block_item"},ke={class:"text"},we=q(M({__name:"index",setup(e){const{exclusivePlaylistData:a}=Y(d()),{getExclusivePlaylistData:t}=d();return b((async()=>{await t()})),(e,t)=>(E(),H("div",Ie,[D(m,{title:"专属歌单"}),L("div",_e,[(E(!0),H(U,null,W(y(a),((e,a)=>(E(),H("div",{class:"block_list",key:a},[L("div",be,[D(ae,{imgSrc:e.picUrl},null,8,["imgSrc"])]),L("div",ke,X(e.name),1)])))),128))])]))}}),[["__scopeId","data-v-2cd979ce"]]),Ce={class:"RecommendedMusic"},xe={class:"music_list"},Se=["src"],Me={class:"music_item_right"},Ee=q(M({__name:"index",setup(e){const{recommendedMusicData:a}=Y(d()),{getRecommendedMusicData:t}=d();return b((async()=>{await t()})),(e,t)=>(E(),H("div",Ce,[D(m,{title:"推荐新音乐"}),L("div",xe,[(E(!0),H(U,null,W(y(a),(e=>(E(),H("div",{class:"music_item",key:e.id},[L("img",{src:e.picUrl,alt:""},null,8,Se),L("div",Me,[L("div",null,X(e.name),1),L("div",null,X(e.song.artists[0].name),1)])])))),128))])]))}}),[["__scopeId","data-v-6a76fd52"]]),He={class:"discover"},Le=(e=>(G("data-v-42bdcabc"),e=e(),Z(),e))((()=>L("h1",null,"推荐",-1))),Ne=q(M({__name:"index",setup:e=>(e,a)=>(E(),H("div",He,[Le,D(ye),D(we),D(Ee),D(p)]))}),[["__scopeId","data-v-42bdcabc"]]);export{Ne as default};
