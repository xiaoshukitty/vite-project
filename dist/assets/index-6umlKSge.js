import{r as a,a as e,f as t,h as l,o as s,c as i,l as n,u as r,aj as o,A as u,s as c,ak as d,Z as p,$ as m,q as v,t as f,F as y,al as g,j as h,v as x,w as S,W as k,ag as w,ac as _,k as b,a4 as D,am as E,z as $,_ as M,an as C,ao as j,ap as L,aq as R,ar as B,as as P,a2 as T,Y as z,m as N,y as A,M as I}from"./index-hdHR_QWJ.js";import{c as O,u as Y,_ as q,w as W,t as F,e as G,f as K,d as U}from"./el-icon-xOR8YP1z.js";import{P as V}from"./index-rPg_AO9V.js";import{P as X,i as Z,a as H,r as J}from"./index-c8LezP3t.js";import{u as Q}from"./user-5kujzLu0.js";const aa=O({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),ea=O({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),ta=l({name:"ElSkeletonItem"});var la=q(l({...ta,props:ea,setup(a){const e=Y("skeleton");return(a,t)=>(s(),i("div",{class:c([r(e).e("item"),r(e).e(a.variant)])},["image"===a.variant?(s(),n(r(o),{key:0})):u("v-if",!0)],2))}}),[["__file","skeleton-item.vue"]]);const sa=l({name:"ElSkeleton"});const ia=W(q(l({...sa,props:aa,setup(l,{expose:o}){const h=l,x=Y("skeleton"),S=((l,s=0)=>{if(0===s)return l;const i=a(!1);let n=0;const r=()=>{n&&clearTimeout(n),n=window.setTimeout((()=>{i.value=l.value}),s)};return e(r),t((()=>l.value),(a=>{a?r():i.value=a})),i})(d(h,"loading"),h.throttle);return o({uiLoading:S}),(a,e)=>r(S)?(s(),i("div",y({key:0,class:[r(x).b(),r(x).is("animated",a.animated)]},a.$attrs),[(s(!0),i(p,null,m(a.count,(e=>(s(),i(p,{key:e},[a.loading?v(a.$slots,"template",{key:e},(()=>[f(la,{class:c(r(x).is("first")),variant:"p"},null,8,["class"]),(s(!0),i(p,null,m(a.rows,(e=>(s(),n(la,{key:e,class:c([r(x).e("paragraph"),r(x).is("last",e===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"])))),128))])):u("v-if",!0)],64)))),128))],16)):v(a.$slots,"default",g(y({key:1},a.$attrs)))}}),[["__file","skeleton.vue"]]),{SkeletonItem:la}),na=F(la),ra=l({name:"ElSpaceItem",props:O({prefixCls:{type:String}}),setup(a,{slots:e}){const t=Y("space"),l=h((()=>`${a.prefixCls||t.b()}__item`));return()=>x("div",{class:l.value},v(e,"default"))}}),oa={small:8,default:12,large:16};const ua=W(l({name:"ElSpace",props:O({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:K([String,Object,Array]),default:""},style:{type:K([String,Array,Object]),default:""},alignment:{type:K(String),default:"center"},prefixCls:{type:String},spacer:{type:K([Object,String,Number,Array]),default:null,validator:a=>w(a)||G(a)||b(a)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:U,validator:a=>G(a)||k(a)&&2===a.length&&a.every(G)}}),setup(e,{slots:t}){const{classes:l,containerStyle:s,itemStyle:i}=function(e){const t=Y("space"),l=h((()=>[t.b(),t.m(e.direction),e.class])),s=a(0),i=a(0),n=h((()=>[e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${i.value}px`}:{},{alignItems:e.alignment},e.style])),r=h((()=>[{paddingBottom:`${i.value}px`,marginRight:`${s.value}px`},e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{}]));return S((()=>{const{size:a="small",wrap:t,direction:l,fill:n}=e;if(k(a)){const[e=0,t=0]=a;s.value=e,i.value=t}else{let e;e=G(a)?a:oa[a||"small"]||oa.small,(t||n)&&"horizontal"===l?s.value=i.value=e:"horizontal"===l?(s.value=e,i.value=0):(i.value=e,s.value=0)}})),{classes:l,containerStyle:n,itemStyle:r}}(e);function n(a,t="",l=[]){const{prefixCls:s}=e;return a.forEach(((a,e)=>{Z(a)?k(a.children)&&a.children.forEach(((a,e)=>{Z(a)&&k(a.children)?n(a.children,`${t+e}-`,l):l.push(f(ra,{style:i.value,prefixCls:s,key:`nested-${t+e}`},{default:()=>[a]},X.PROPS|X.STYLE,["style","prefixCls"]))})):H(a)&&l.push(f(ra,{style:i.value,prefixCls:s,key:`LoopKey${t+e}`},{default:()=>[a]},X.PROPS|X.STYLE,["style","prefixCls"]))})),l}return()=>{var a;const{spacer:r,direction:o}=e,u=v(t,"default",{key:0},(()=>[]));if(0===(null!=(a=u.children)?a:[]).length)return null;if(k(u.children)){let a=n(u.children);if(r){const e=a.length-1;a=a.reduce(((a,t,l)=>{const s=[...a,t];return l!==e&&s.push(f("span",{style:[i.value,"vertical"===o?"width: 100%":null],key:l},[w(r)?r:_(r,X.TEXT)],X.STYLE)),s}),[])}return f("div",{class:l.value,style:s.value},a,X.STYLE|X.CLASS)}return u.children}}})),ca=D("BannerStore",(()=>{const e=a([]);return{banners:e,getBanners:async()=>{e.value.length||(e.value=await E())}}})),da=M(l({__name:"index",props:{title:{}},setup:a=>(a,e)=>(s(),i("h2",null,$(a.title),1))}),[["__scopeId","data-v-954d9e1f"]]),pa=D("useMusicStore",(()=>{const e=a([]),t=a([]),l=a([]),s=a([]),i=a([]),n=a([]);return{exclusivePlaylistData:e,getExclusivePlaylistData:async()=>{if(e.value.length)return;let a=await C();e.value=J(a,10)},recommendedMusicData:t,getRecommendedMusicData:async()=>{t.value.length||(t.value=await j())},recommendedMvData:l,getRecommendedMvData:async()=>{l.value.length||(l.value=await L())},exclusiveMusicData:s,getExclusiveMusicData:async()=>{s.value.length||(s.value=await R(4))},recommendationStationData:i,getRecommendationStationData:async()=>{s.value.length||(i.value=await B())},officialListData:n,getOfficialListData:async()=>{n.value.length||(n.value=await P())}}})),ma={class:"mv"},va={class:"skelton-list"},fa={style:{"margin-top":"10px",display:"flex","flex-direction":"column"}},ya={class:"mv_list"},ga=["onClick"],ha=M(l({__name:"index",setup(a){const t=T(),{recommendedMvData:l}=z(pa()),{getRecommendedMvData:n}=pa(),{skeletonLoading:o}=z(Q());return e((async()=>{await n()})),(a,e)=>{const n=na,u=ia,c=ua;return s(),i("div",ma,[f(c,{style:{width:"100%"},fill:""},{default:N((()=>[f(u,{animated:"",count:1,loading:r(o)},{template:N((()=>[f(n,{variant:"h3",class:"skelton-title"})])),default:N((()=>[f(da,{title:"推荐MV"})])),_:1},8,["loading"]),f(u,{class:"skelton",animated:"",count:2,loading:r(o)},{template:N((()=>[A("div",va,[f(n,{variant:"image",style:{height:"210px","border-radius":"10px"}}),A("div",fa,[f(n,{variant:"h3",style:{width:"100%"}}),f(n,{variant:"h3",style:{width:"100%","margin-top":"5px"}})])])])),default:N((()=>[A("div",ya,[(s(!0),i(p,null,m(r(l),(a=>(s(),i("div",{class:"mv_item",key:a.id,onClick:I((e=>{return l="mvDetail",s=a.id,void t.push({path:l,query:{id:s}});var l,s}),["stop"])},[f(V,{imgSrc:a.picUrl},null,8,["imgSrc"]),A("div",null,$(a.name),1),A("div",null,$(a.artistName),1)],8,ga)))),128))])])),_:1},8,["loading"])])),_:1})])}}}),[["__scopeId","data-v-fc8488d2"]]);export{na as E,ha as M,da as _,ia as a,ua as b,pa as c,ca as u};
