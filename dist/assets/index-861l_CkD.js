import{e,c as t,h as a,g as n,E as i,_ as l,l as o,w as r,m as s}from"./base-1UC0UxbJ.js";import{u,f as c,a as v,b as d,_ as f,M as p}from"./index-yNBLiSEo.js";import{n as m,r as h,d as g,u as y,w as b,s as I,f as _,O as w,P as x,j as k,a4 as C,g as S,k as M,o as T,c as j,A as E,B as O,C as N,y as H,H as A,a5 as B,G as L,v as P,q as $,T as D,x as V,a6 as R,z as W,J as z,F as U,X as F,I as X,i as q,Q as G,h as J,a7 as K,_ as Q,a8 as Y,a9 as Z}from"./index-bMxtfwyO.js";const ee="object"==typeof global&&global&&global.Object===Object&&global;var te="object"==typeof self&&self&&self.Object===Object&&self;const ae=ee||te||Function("return this")();const ne=ae.Symbol;var ie=Object.prototype,le=ie.hasOwnProperty,oe=ie.toString,re=ne?ne.toStringTag:void 0;var se=Object.prototype.toString;var ue="[object Null]",ce="[object Undefined]",ve=ne?ne.toStringTag:void 0;function de(e){return null==e?void 0===e?ce:ue:ve&&ve in Object(e)?function(e){var t=le.call(e,re),a=e[re];try{e[re]=void 0;var n=!0}catch(l){}var i=oe.call(e);return n&&(t?e[re]=a:delete e[re]),i}(e):function(e){return se.call(e)}(e)}var fe="[object Symbol]";var pe=/\s/;var me=/^\s+/;function he(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&pe.test(e.charAt(t)););return t}(e)+1).replace(me,""):e}function ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ye=NaN,be=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,_e=/^0o[0-7]+$/i,we=parseInt;function xe(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&de(e)==fe}(e))return ye;if(ge(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ge(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=he(e);var a=Ie.test(e);return a||_e.test(e)?we(e.slice(2),a?2:8):be.test(e)?ye:+e}const ke=function(){return ae.Date.now()};var Ce="Expected a function",Se=Math.max,Me=Math.min;function Te(e,t,a){var n,i,l,o,r,s,u=0,c=!1,v=!1,d=!0;if("function"!=typeof e)throw new TypeError(Ce);function f(t){var a=n,l=i;return n=i=void 0,u=t,o=e.apply(l,a)}function p(e){var a=e-s;return void 0===s||a>=t||a<0||v&&e-u>=l}function m(){var e=ke();if(p(e))return h(e);r=setTimeout(m,function(e){var a=t-(e-s);return v?Me(a,l-(e-u)):a}(e))}function h(e){return r=void 0,d&&n?f(e):(n=i=void 0,o)}function g(){var e=ke(),a=p(e);if(n=arguments,i=this,s=e,a){if(void 0===r)return function(e){return u=e,r=setTimeout(m,t),c?f(e):o}(s);if(v)return clearTimeout(r),r=setTimeout(m,t),f(s)}return void 0===r&&(r=setTimeout(m,t)),o}return t=xe(t)||0,ge(a)&&(c=!!a.leading,l=(v="maxWait"in a)?Se(xe(a.maxWait)||0,t):l,d="trailing"in a?!!a.trailing:d),g.cancel=function(){void 0!==r&&clearTimeout(r),u=0,n=s=i=r=void 0},g.flush=function(){return void 0===r?o:h(ke())},g}function je(e,t,a){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ge(a)&&(n="leading"in a?!!a.leading:n,i="trailing"in a?!!a.trailing:i),Te(e,t,{leading:n,maxWait:t,trailing:i})}const Ee=e({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Oe={change:(e,a)=>[e,a].every(t)},Ne=Symbol("carouselContextKey"),He=(e,t,n)=>{const{children:i,addChild:l,removeChild:o}=u(S(),"ElCarouselItem"),r=m(),s=h(-1),v=h(null),d=h(!1),f=h(),p=h(0),M=h(!0),T=g((()=>"never"!==e.arrow&&!y(O))),j=g((()=>i.value.some((e=>e.props.label.toString().length>0)))),E=g((()=>"card"===e.type)),O=g((()=>"vertical"===e.direction)),N=g((()=>"auto"!==e.height?{height:e.height}:{height:`${p.value}px`,overflow:"hidden"})),H=je((e=>{$(e)}),300,{trailing:!0}),A=je((t=>{!function(t){"hover"===e.trigger&&t!==s.value&&(s.value=t)}(t)}),300);function B(){v.value&&(clearInterval(v.value),v.value=null)}function L(){e.interval<=0||!e.autoplay||v.value||(v.value=setInterval((()=>P()),e.interval))}const P=()=>{s.value<i.value.length-1?s.value=s.value+1:e.loop&&(s.value=0)};function $(t){if(k(t)){const e=i.value.filter((e=>e.props.name===t));e.length>0&&(t=i.value.indexOf(e[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const a=i.value.length,n=s.value;s.value=t<0?e.loop?a-1:0:t>=a?e.loop?0:a-1:t,n===s.value&&D(n),V()}function D(e){i.value.forEach(((t,a)=>{t.translateItem(a,s.value,e)}))}function V(){B(),e.pauseOnHover||L()}b((()=>s.value),((e,a)=>{D(a),M.value&&(e%=2,a%=2),a>-1&&t("change",e,a)})),b((()=>e.autoplay),(e=>{e?L():B()})),b((()=>e.loop),(()=>{$(s.value)})),b((()=>e.interval),(()=>{V()}));const R=I();return _((()=>{b((()=>i.value),(()=>{i.value.length>0&&$(e.initialIndex)}),{immediate:!0}),R.value=a(f.value,(()=>{D()})),L()})),w((()=>{B(),f.value&&R.value&&R.value.stop()})),x(Ne,{root:f,isCardType:E,isVertical:O,items:i,loop:e.loop,addItem:l,removeItem:o,setActiveItem:$,setContainerHeight:function(t){"auto"===e.height&&(p.value=t)}}),{root:f,activeIndex:s,arrowDisplay:T,hasLabel:j,hover:d,isCardType:E,items:i,isVertical:O,containerStyle:N,isItemsTwoLength:M,handleButtonEnter:function(e){y(O)||i.value.forEach(((t,a)=>{e===function(e,t){var a,n,l,o;const r=y(i),s=r.length;if(0===s||!e.states.inStage)return!1;const u=t+1,c=t-1,v=s-1,d=r[v].states.active,f=r[0].states.active,p=null==(n=null==(a=r[u])?void 0:a.states)?void 0:n.active,m=null==(o=null==(l=r[c])?void 0:l.states)?void 0:o.active;return t===v&&f||p?"left":!!(0===t&&d||m)&&"right"}(t,a)&&(t.states.hover=!0)}))},handleButtonLeave:function(){y(O)||i.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){s.value=e},handleMouseEnter:function(){d.value=!0,e.pauseOnHover&&B()},handleMouseLeave:function(){d.value=!1,L()},setActiveItem:$,prev:function(){$(s.value-1)},next:function(){$(s.value+1)},PlaceholderItem:function(){var t;const a=null==(t=r.default)?void 0:t.call(r);if(!a)return null;const n=c(a).filter((e=>C(e)&&"ElCarouselItem"===e.type.name));return 2===(null==n?void 0:n.length)&&e.loop&&!E.value?(M.value=!0,n):(M.value=!1,null)},isTwoLengthShow:e=>!M.value||(s.value<=1?e<=1:e>1),throttledArrowClick:H,throttledIndicatorHover:A}},Ae=["onMouseenter","onClick"],Be={key:0},Le=M({name:"ElCarousel"});var Pe=l(M({...Le,props:Ee,emits:Oe,setup(e,{expose:t,emit:a}){const l=e,{root:o,activeIndex:r,arrowDisplay:s,hasLabel:u,hover:c,isCardType:v,items:d,isVertical:f,containerStyle:p,handleButtonEnter:m,handleButtonLeave:h,handleIndicatorClick:b,handleMouseEnter:I,handleMouseLeave:_,setActiveItem:w,prev:x,next:k,PlaceholderItem:C,isTwoLengthShow:S,throttledArrowClick:M,throttledIndicatorHover:q}=He(l,a),G=n("carousel"),J=g((()=>{const e=[G.b(),G.m(l.direction)];return y(v)&&e.push(G.m("card")),e})),K=g((()=>{const e=[G.e("indicators"),G.em("indicators",l.direction)];return y(u)&&e.push(G.em("indicators","labels")),"outside"===l.indicatorPosition&&e.push(G.em("indicators","outside")),y(f)&&e.push(G.em("indicators","right")),e}));return t({setActiveItem:w,prev:x,next:k}),(e,t)=>(T(),j("div",{ref_key:"root",ref:o,class:H(y(J)),onMouseenter:t[6]||(t[6]=A(((...e)=>y(I)&&y(I)(...e)),["stop"])),onMouseleave:t[7]||(t[7]=A(((...e)=>y(_)&&y(_)(...e)),["stop"]))},[E("div",{class:H(y(G).e("container")),style:z(y(p))},[y(s)?(T(),O(D,{key:0,name:"carousel-arrow-left",persisted:""},{default:N((()=>[$(E("button",{type:"button",class:H([y(G).e("arrow"),y(G).em("arrow","left")]),onMouseenter:t[0]||(t[0]=e=>y(m)("left")),onMouseleave:t[1]||(t[1]=(...e)=>y(h)&&y(h)(...e)),onClick:t[2]||(t[2]=A((e=>y(M)(y(r)-1)),["stop"]))},[L(y(i),null,{default:N((()=>[L(y(B))])),_:1})],34),[[P,("always"===e.arrow||y(c))&&(l.loop||y(r)>0)]])])),_:1})):V("v-if",!0),y(s)?(T(),O(D,{key:1,name:"carousel-arrow-right",persisted:""},{default:N((()=>[$(E("button",{type:"button",class:H([y(G).e("arrow"),y(G).em("arrow","right")]),onMouseenter:t[3]||(t[3]=e=>y(m)("right")),onMouseleave:t[4]||(t[4]=(...e)=>y(h)&&y(h)(...e)),onClick:t[5]||(t[5]=A((e=>y(M)(y(r)+1)),["stop"]))},[L(y(i),null,{default:N((()=>[L(y(R))])),_:1})],34),[[P,("always"===e.arrow||y(c))&&(l.loop||y(r)<y(d).length-1)]])])),_:1})):V("v-if",!0),L(y(C)),W(e.$slots,"default")],6),"none"!==e.indicatorPosition?(T(),j("ul",{key:0,class:H(y(K))},[(T(!0),j(U,null,F(y(d),((t,a)=>$((T(),j("li",{key:a,class:H([y(G).e("indicator"),y(G).em("indicator",e.direction),y(G).is("active",a===y(r))]),onMouseenter:e=>y(q)(a),onClick:A((e=>y(b)(a)),["stop"])},[E("button",{class:H(y(G).e("button"))},[y(u)?(T(),j("span",Be,X(t.props.label),1)):V("v-if",!0)],2)],42,Ae)),[[P,y(S)(a)]]))),128))],2)):V("v-if",!0)],34))}}),[["__file","carousel.vue"]]);const $e=e({name:{type:String,default:""},label:{type:[String,Number],default:""}}),De=(e,t)=>{const a=q(Ne),n=S(),i=.83,l=h(),r=h(!1),s=h(0),u=h(1),c=h(!1),v=h(!1),d=h(!1),f=h(!1),{isCardType:p,isVertical:m}=a;const g=(e,t,n)=>{var r;const h=y(p),g=null!=(r=a.items.value.length)?r:Number.NaN,b=e===t;h||o(n)||(f.value=b||e===n),!b&&g>2&&a.loop&&(e=function(e,t,a){const n=a-1,i=a/2;return 0===t&&e===n?-1:t===n&&0===e?a:e<t-1&&t-e>=i?a+1:e>t+1&&e-t>=i?-2:e}(e,t,g));const I=y(m);c.value=b,h?(d.value=Math.round(Math.abs(e-t))<=1,s.value=function(e,t){var n,i;const l=y(m)?(null==(n=a.root.value)?void 0:n.offsetHeight)||0:(null==(i=a.root.value)?void 0:i.offsetWidth)||0;return d.value?l*(1.17*(e-t)+1)/4:e<t?-1.83*l/4:3.83*l/4}(e,t),u.value=y(c)?1:i):s.value=function(e,t,n){const i=a.root.value;return i?((n?i.offsetHeight:i.offsetWidth)||0)*(e-t):0}(e,t,I),v.value=!0,b&&l.value&&a.setContainerHeight(l.value.offsetHeight)};return _((()=>{a.addItem({props:e,states:G({hover:r,translate:s,scale:u,active:c,ready:v,inStage:d,animating:f}),uid:n.uid,translateItem:g})})),J((()=>{a.removeItem(n.uid)})),{carouselItemRef:l,active:c,animating:f,hover:r,inStage:d,isVertical:m,translate:s,isCardType:p,scale:u,ready:v,handleItemClick:function(){if(a&&y(p)){const e=a.items.value.findIndex((({uid:e})=>e===n.uid));a.setActiveItem(e)}}}},Ve=M({name:"ElCarouselItem"});var Re=l(M({...Ve,props:$e,setup(e){const t=e,a=n("carousel"),{carouselItemRef:i,active:l,animating:o,hover:r,inStage:s,isVertical:u,translate:c,isCardType:v,scale:d,ready:f,handleItemClick:p}=De(t),m=g((()=>({transform:[`${"translate"+(y(u)?"Y":"X")}(${y(c)}px)`,`scale(${y(d)})`].join(" ")})));return(e,t)=>$((T(),j("div",{ref_key:"carouselItemRef",ref:i,class:H([y(a).e("item"),y(a).is("active",y(l)),y(a).is("in-stage",y(s)),y(a).is("hover",y(r)),y(a).is("animating",y(o)),{[y(a).em("item","card")]:y(v),[y(a).em("item","card-vertical")]:y(v)&&y(u)}]),style:z(y(m)),onClick:t[0]||(t[0]=(...e)=>y(p)&&y(p)(...e))},[y(v)?$((T(),j("div",{key:0,class:H(y(a).e("mask"))},null,2)),[[P,!y(l)]]):V("v-if",!0),W(e.$slots,"default")],6)),[[P,y(f)]])}}),[["__file","carousel-item.vue"]]);const We=r(Pe,{CarouselItem:Re}),ze=s(Re),Ue={class:"swiper"},Fe=["src","onClick"],Xe=Q(M({__name:"index",setup(e){const{getBanners:t}=v(),{banners:a}=K(v());_((async()=>{await t()}));return(e,t)=>{const n=ze,i=We;return T(),j("div",Ue,[L(i,{interval:2e3,type:"card",height:"250px",trigger:"click","pause-on-hover":!1,autoplay:!0},{default:N((()=>[(T(!0),j(U,null,F(y(a),(e=>(T(),O(n,{key:e.bannerId},{default:N((()=>[E("img",{class:"swiper_img",src:e.pic,alt:"",onClick:e=>{}},null,8,Fe)])),_:2},1024)))),128))])),_:1})])}}}),[["__scopeId","data-v-a3e3065e"]]),qe={class:"exclusive_playlist"},Ge={class:"block"},Je={class:"block_item"},Ke=["src"],Qe={class:"text"},Ye=Q(M({__name:"index",setup(e){const{exclusivePlaylistData:t}=K(d()),{getExclusivePlaylistData:a}=d();return _((async()=>{await a()})),(e,a)=>(T(),j("div",qe,[L(f,{title:"专属歌单"}),E("div",Ge,[(T(!0),j(U,null,F(y(t),((e,t)=>(T(),j("div",{class:"block_list",key:t},[E("div",Je,[E("img",{src:e.picUrl,alt:""},null,8,Ke)]),E("div",Qe,X(e.name),1)])))),128))])]))}}),[["__scopeId","data-v-a509184b"]]),Ze={class:"RecommendedMusic"},et={class:"music_list"},tt=["src"],at={class:"music_item_right"},nt=Q(M({__name:"index",setup(e){const{recommendedMusicData:t}=K(d()),{getRecommendedMusicData:a}=d();return _((async()=>{await a()})),(e,a)=>(T(),j("div",Ze,[L(f,{title:"推荐新音乐"}),E("div",et,[(T(!0),j(U,null,F(y(t),(e=>(T(),j("div",{class:"music_item",key:e.id},[E("img",{src:e.picUrl,alt:""},null,8,tt),E("div",at,[E("div",null,X(e.name),1),E("div",null,X(e.song.artists[0].name),1)])])))),128))])]))}}),[["__scopeId","data-v-6a76fd52"]]),it={class:"discover"},lt=(e=>(Y("data-v-0aac2419"),e=e(),Z(),e))((()=>E("h1",null,"推荐",-1))),ot=Q(M({__name:"index",setup:e=>(e,t)=>(T(),j("div",it,[lt,L(Xe),L(Ye),L(nt),L(p)]))}),[["__scopeId","data-v-0aac2419"]]);export{ot as default};
