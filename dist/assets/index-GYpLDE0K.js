import{E as a}from"./el-icon-_QcTLCeb.js";import{e,d as s}from"./el-popover-uMLKiyCf.js";import{E as t}from"./el-button-SPbItKmp.js";import{P as i}from"./index-CWI5UEWA.js";import{f as o,c as l,F as d,a2 as n,o as v,H as r,A as m,J as c,_ as u,a8 as p,a7 as _,r as f,a0 as g,R as V,l as h,P as j,C as y,y as b,ac as x,ad as k}from"./index-vO0Y6BJ7.js";import"./index-sWYtIRkE.js";import"./use-form-item-4hfniADl.js";import"./index-YtJLQDlp.js";const w={class:"mv_video"},C={class:"title"},D=u(o({__name:" MvVideo",props:{mvVideoData:{type:Object,default:""}},setup:a=>(e,s)=>(v(),l("div",w,[(v(!0),l(d,null,n(a.mvVideoData,(({data:a})=>(v(),l("div",{class:"mv_block",key:a.vid},[r(i,{imgSrc:a.coverUrl},null,8,["imgSrc"]),m("div",C,c(a.title),1)])))),128))]))}),[["__scopeId","data-v-3f1dadbe"]]);const L=_("useMvVideoStore",(()=>{const a=f([]);return{mvVideoList:a,getMvVideoList:async()=>{a.value.length||(a.value=await async function(){const{data:a}=await p.get("video/group/list");return a}())}}})),M=(a=>(x("data-v-a9061c00"),a=a(),k(),a))((()=>m("span",null,"全部视频",-1))),S={class:"mv_container"},A={class:"mv_list"},E=["onClick"],I=u(o({__name:"index",setup(i){const{getMvVideoList:o}=L(),{mvVideoList:u}=g(L()),_=f([]),x=f(!1),k=V({page:1,id:0}),w=a=>{k.id=a,k.page=1,C(),setTimeout((()=>{x.value=!1}),500)},C=async()=>{_.value=await async function(a,e){const{datas:s}=await p.get(a?"video/group":"video/timeline/all",{id:a,offset:e});return s}(k.id,k.page-1)};return h((()=>{C(),o()})),(i,o)=>{const p=j("ArrowRight"),f=a,g=t,V=s,h=e;return v(),l(d,null,[r(h,{placement:"bottom-end",width:1e3,trigger:"hover",visible:x.value,"onUpdate:visible":o[1]||(o[1]=a=>x.value=a)},{reference:y((()=>[r(g,{plain:"",round:""},{default:y((()=>[M,r(f,null,{default:y((()=>[r(p)])),_:1})])),_:1})])),default:y((()=>[r(V,{height:"440px",style:{padding:"20px"}},{default:y((()=>[m("div",S,[m("div",{class:"mv_title mv_hover",onClick:o[0]||(o[0]=a=>w(0))},"全部视频"),m("div",A,[(v(!0),l(d,null,n(b(u),(a=>(v(),l("div",{class:"mv_item",key:a.id},[m("span",{class:"mv_span mv_hover",onClick:e=>w(a.id)},c(a.name),9,E)])))),128))])])])),_:1})])),_:1},8,["visible"]),r(D,{mvVideoData:_.value},null,8,["mvVideoData"])],64)}}}),[["__scopeId","data-v-a9061c00"]]);export{I as default};
