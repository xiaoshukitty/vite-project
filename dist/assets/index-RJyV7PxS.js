import{r as e,a,f as t,h as l,o as s,c as i,l as n,u as r,ak as o,A as u,s as c,al as d,Z as v,$ as m,q as p,t as f,F as y,am as g,j as h,v as x,w as S,W as k,ah as w,k as _,ac as b,a4 as D,an as E,z as $,_ as L,ao as M,ap as T,aq as C,ar as R,as as j,at as B,a2 as P,Y as z,m as N,y as A,M as I}from"./index-3a7MM4_w.js";import{c as O,u as Y,_ as q,w as W,t as F,e as G,f as K,d as U}from"./el-icon-Y0y_9I_M.js";import{P as V}from"./index-SA_pidgL.js";import{P as X,i as Z,a as H,r as J}from"./index-QbbmOe5g.js";const Q=O({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),ee=O({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),ae=l({name:"ElSkeletonItem"});var te=q(l({...ae,props:ee,setup(e){const a=Y("skeleton");return(e,t)=>(s(),i("div",{class:c([r(a).e("item"),r(a).e(e.variant)])},["image"===e.variant?(s(),n(r(o),{key:0})):u("v-if",!0)],2))}}),[["__file","skeleton-item.vue"]]);const le=l({name:"ElSkeleton"});const se=W(q(l({...le,props:Q,setup(l,{expose:o}){const h=l,x=Y("skeleton"),S=((l,s=0)=>{if(0===s)return l;const i=e(!1);let n=0;const r=()=>{n&&clearTimeout(n),n=window.setTimeout((()=>{i.value=l.value}),s)};return a(r),t((()=>l.value),(e=>{e?r():i.value=e})),i})(d(h,"loading"),h.throttle);return o({uiLoading:S}),(e,a)=>r(S)?(s(),i("div",y({key:0,class:[r(x).b(),r(x).is("animated",e.animated)]},e.$attrs),[(s(!0),i(v,null,m(e.count,(a=>(s(),i(v,{key:a},[e.loading?p(e.$slots,"template",{key:a},(()=>[f(te,{class:c(r(x).is("first")),variant:"p"},null,8,["class"]),(s(!0),i(v,null,m(e.rows,(a=>(s(),n(te,{key:a,class:c([r(x).e("paragraph"),r(x).is("last",a===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"])))),128))])):u("v-if",!0)],64)))),128))],16)):p(e.$slots,"default",g(y({key:1},e.$attrs)))}}),[["__file","skeleton.vue"]]),{SkeletonItem:te}),ie=F(te),ne=l({name:"ElSpaceItem",props:O({prefixCls:{type:String}}),setup(e,{slots:a}){const t=Y("space"),l=h((()=>`${e.prefixCls||t.b()}__item`));return()=>x("div",{class:l.value},p(a,"default"))}}),re={small:8,default:12,large:16};const oe=W(l({name:"ElSpace",props:O({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:K([String,Object,Array]),default:""},style:{type:K([String,Array,Object]),default:""},alignment:{type:K(String),default:"center"},prefixCls:{type:String},spacer:{type:K([Object,String,Number,Array]),default:null,validator:e=>w(e)||G(e)||_(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:U,validator:e=>G(e)||k(e)&&2===e.length&&e.every(G)}}),setup(a,{slots:t}){const{classes:l,containerStyle:s,itemStyle:i}=function(a){const t=Y("space"),l=h((()=>[t.b(),t.m(a.direction),a.class])),s=e(0),i=e(0),n=h((()=>[a.wrap||a.fill?{flexWrap:"wrap",marginBottom:`-${i.value}px`}:{},{alignItems:a.alignment},a.style])),r=h((()=>[{paddingBottom:`${i.value}px`,marginRight:`${s.value}px`},a.fill?{flexGrow:1,minWidth:`${a.fillRatio}%`}:{}]));return S((()=>{const{size:e="small",wrap:t,direction:l,fill:n}=a;if(k(e)){const[a=0,t=0]=e;s.value=a,i.value=t}else{let a;a=G(e)?e:re[e||"small"]||re.small,(t||n)&&"horizontal"===l?s.value=i.value=a:"horizontal"===l?(s.value=a,i.value=0):(i.value=a,s.value=0)}})),{classes:l,containerStyle:n,itemStyle:r}}(a);function n(e,t="",l=[]){const{prefixCls:s}=a;return e.forEach(((e,a)=>{Z(e)?k(e.children)&&e.children.forEach(((e,a)=>{Z(e)&&k(e.children)?n(e.children,`${t+a}-`,l):l.push(f(ne,{style:i.value,prefixCls:s,key:`nested-${t+a}`},{default:()=>[e]},X.PROPS|X.STYLE,["style","prefixCls"]))})):H(e)&&l.push(f(ne,{style:i.value,prefixCls:s,key:`LoopKey${t+a}`},{default:()=>[e]},X.PROPS|X.STYLE,["style","prefixCls"]))})),l}return()=>{var e;const{spacer:r,direction:o}=a,u=p(t,"default",{key:0},(()=>[]));if(0===(null!=(e=u.children)?e:[]).length)return null;if(k(u.children)){let e=n(u.children);if(r){const a=e.length-1;e=e.reduce(((e,t,l)=>{const s=[...e,t];return l!==a&&s.push(f("span",{style:[i.value,"vertical"===o?"width: 100%":null],key:l},[w(r)?r:b(r,X.TEXT)],X.STYLE)),s}),[])}return f("div",{class:l.value,style:s.value},e,X.STYLE|X.CLASS)}return u.children}}})),ue=D("BannerStore",(()=>{const a=e([]);let t=e(!0);return{banners:a,skeletonLoading:t,getBanners:async()=>{a.value.length||(a.value=await E(),setTimeout((()=>{t.value=!1}),1e3))}}})),ce=L(l({__name:"index",props:{title:{}},setup:e=>(e,a)=>(s(),i("h2",null,$(e.title),1))}),[["__scopeId","data-v-954d9e1f"]]),de=D("useMusicStore",(()=>{const a=e([]);let t=e(!0);const l=e([]),s=e([]),i=e([]),n=e([]),r=e([]);return{exclusivePlaylistData:a,skeletonLoading:t,getExclusivePlaylistData:async()=>{if(a.value.length)return;let e=await M();a.value=J(e,10),setTimeout((()=>{t.value=!1}),1e3)},recommendedMusicData:l,getRecommendedMusicData:async()=>{l.value.length||(l.value=await T(),setTimeout((()=>{t.value=!1}),1e3))},recommendedMvData:s,getRecommendedMvData:async()=>{s.value.length||(s.value=await C(),setTimeout((()=>{t.value=!1}),1e3))},exclusiveMusicData:i,getExclusiveMusicData:async()=>{i.value.length||(i.value=await R(4))},recommendationStationData:n,getRecommendationStationData:async()=>{i.value.length||(n.value=await j())},officialListData:r,getOfficialListData:async()=>{r.value.length||(r.value=await B())}}})),ve={class:"mv"},me={class:"skelton-list"},pe={style:{"margin-top":"10px",display:"flex","flex-direction":"column"}},fe={class:"mv_list"},ye=["onClick"],ge=L(l({__name:"index",setup(e){const t=P(),{recommendedMvData:l,skeletonLoading:n}=z(de()),{getRecommendedMvData:o}=de();return a((async()=>{await o()})),(e,a)=>{const o=ie,u=se,c=oe;return s(),i("div",ve,[f(c,{style:{width:"100%"},fill:""},{default:N((()=>[f(u,{animated:"",count:1,loading:r(n)},{template:N((()=>[f(o,{variant:"h3",class:"skelton-title"})])),default:N((()=>[f(ce,{title:"推荐MV"})])),_:1},8,["loading"]),f(u,{class:"skelton",animated:"",count:2,loading:r(n)},{template:N((()=>[A("div",me,[f(o,{variant:"image",style:{height:"210px","border-radius":"10px"}}),A("div",pe,[f(o,{variant:"h3",style:{width:"100%"}}),f(o,{variant:"h3",style:{width:"100%","margin-top":"5px"}})])])])),default:N((()=>[A("div",fe,[(s(!0),i(v,null,m(r(l),(e=>(s(),i("div",{class:"mv_item",key:e.id,onClick:I((a=>{return l="mvDetail",s=e.id,void t.push({path:l,query:{id:s}});var l,s}),["stop"])},[f(V,{imgSrc:e.picUrl},null,8,["imgSrc"]),A("div",null,$(e.name),1),A("div",null,$(e.artistName),1)],8,ye)))),128))])])),_:1},8,["loading"])])),_:1})])}}}),[["__scopeId","data-v-4c9b5bf6"]]);export{ie as E,ge as M,ce as _,se as a,oe as b,de as c,ue as u};
