import{E as a}from"./el-icon-YHd8nRnp.js";import"./el-popper-YPvFXBOc.js";import{E as e}from"./el-popover-pxLz_JcQ.js";import{E as t}from"./el-scrollbar-qCPin-h-.js";import{b as s,E as i,a as o}from"./el-skeleton-item-daFm64Q6.js";import{E as l}from"./el-button-w7soYy0a.js";import{P as n}from"./index-PyvWAZ_c.js";import{h as d,l as r,m,o as v,t as p,c as u,$ as c,y as g,Z as f,z as _,_ as h,a5 as y,a4 as k,r as j,Y as b,O as x,a as L,L as V,u as w,a9 as E,aa as D}from"./index-RnU-RuI2.js";import{u as M}from"./user-EkxirCSN.js";import"./use-form-item-DBL9knAW.js";import"./error-lyDbv7Kx.js";import"./index-4sHfc9ES.js";import"./index-pJGj0l4r.js";const C={class:"mv_video"},S={class:"title"},I=h(d({__name:" MvVideo",props:{mvVideoData:{type:Object,default:""},skeletonLoading:{type:Boolean,default:!1}},setup:a=>(e,t)=>{const l=i,d=o,h=s;return v(),r(h,{style:{width:"100%"},fill:""},{default:m((()=>[p(d,{class:"skelton",animated:"",count:1,loading:a.skeletonLoading},{template:m((()=>[(v(),u(f,null,c(9,((a,e)=>g("div",{key:e},[p(l,{variant:"image",style:{height:"300px","border-radius":"10px"}}),p(l,{variant:"h3",style:{width:"100%","margin-top":"5px"}})]))),64))])),default:m((()=>[g("div",C,[(v(!0),u(f,null,c(a.mvVideoData,(({data:a})=>(v(),u("div",{class:"mv_block",key:a.vid},[p(n,{imgSrc:a.coverUrl,style:{height:"280px"}},null,8,["imgSrc"]),g("div",S,_(a.title),1)])))),128))])])),_:1},8,["loading"])])),_:1})}}),[["__scopeId","data-v-aa04182d"]]);const O=k("useMvVideoStore",(()=>{const a=j([]);return{mvVideoList:a,getMvVideoList:async()=>{a.value.length||(a.value=await async function(){const{data:a}=await y.get("video/group/list");return a}())}}})),U={style:{padding:"20px"}},q=(a=>(E("data-v-01ba2b81"),a=a(),D(),a))((()=>g("span",null,"全部视频",-1))),z={class:"mv_container"},A={class:"mv_list"},B=["onClick"],P=h(d({__name:"index",setup(n){const{getMvVideoList:d}=O(),{mvVideoList:r}=b(O()),{skeletonLoading:h}=b(M()),k=j([]),E=j(!1),D=x({page:1,id:0}),C=a=>{D.id=a,D.page=1,S(),setTimeout((()=>{E.value=!1}),500)},S=async()=>{k.value=await async function(a,e){const{datas:t}=await y.get(a?"video/group":"video/timeline/all",{id:a,offset:e});return t}(D.id,D.page-1)};return L((()=>{S(),d()})),(n,d)=>{const y=i,j=V("ArrowRight"),b=a,x=l,L=o,D=s,M=t,S=e;return v(),u("div",U,[p(S,{placement:"bottom-end",width:1e3,trigger:"hover",visible:E.value,"onUpdate:visible":d[1]||(d[1]=a=>E.value=a)},{reference:m((()=>[p(D,{style:{},fill:""},{default:m((()=>[p(L,{class:"skelton",animated:"",count:1,loading:w(h)},{template:m((()=>[p(y,{variant:"h3",class:"skelton-title"})])),default:m((()=>[p(x,{plain:"",round:""},{default:m((()=>[g("div",null,[q,p(b,null,{default:m((()=>[p(j)])),_:1})])])),_:1})])),_:1},8,["loading"])])),_:1})])),default:m((()=>[p(M,{height:"440px",style:{padding:"20px"}},{default:m((()=>[g("div",z,[g("div",{class:"mv_title mv_hover",onClick:d[0]||(d[0]=a=>C(0))},"全部视频"),g("div",A,[(v(!0),u(f,null,c(w(r),(a=>(v(),u("div",{class:"mv_item",key:a.id},[g("span",{class:"mv_span mv_hover",onClick:e=>C(a.id)},_(a.name),9,B)])))),128))])])])),_:1})])),_:1},8,["visible"]),p(I,{mvVideoData:k.value,skeletonLoading:w(h)},null,8,["mvVideoData","skeletonLoading"])])}}}),[["__scopeId","data-v-01ba2b81"]]);export{P as default};
