import{E as a}from"./el-icon-_k5g-mge.js";import{e,d as s}from"./el-popover-Nt6buCr6.js";import{E as t}from"./el-button-E2UmwNkR.js";import{P as i}from"./index-SjNx6wvp.js";import{k as o,c as l,F as d,a5 as n,o as v,J as r,C as c,L as m,_ as u,ab as p,aa as _,r as g,a4 as f,X as V,a as b,W as j,E as h,A as x,af as y,ag as k}from"./index-N4H_bZBi.js";import"./index-cb5UPK4r.js";import"./index--GrTG3YU.js";const w={class:"mv_video"},L={class:"title"},C=u(o({__name:" MvVideo",props:{mvVideoData:{type:Object,default:""}},setup:a=>(e,s)=>(v(),l("div",w,[(v(!0),l(d,null,n(a.mvVideoData,(({data:a})=>(v(),l("div",{class:"mv_block",key:a.vid},[r(i,{imgSrc:a.coverUrl},null,8,["imgSrc"]),c("div",L,m(a.title),1)])))),128))]))}),[["__scopeId","data-v-3f1dadbe"]]);const D=_("useMvVideoStore",(()=>{const a=g([]);return{mvVideoList:a,getMvVideoList:async()=>{a.value.length||(a.value=await async function(){const{data:a}=await p.get("video/group/list");return a}())}}})),M=(a=>(y("data-v-6c547539"),a=a(),k(),a))((()=>c("span",null,"全部视频",-1))),E={class:"mv_container"},S={class:"mv_list"},A=["onClick"],I=u(o({__name:"index",setup(i){const{getMvVideoList:o}=D(),{mvVideoList:u}=f(D()),_=g([]),y=g(!1),k=V({page:1,id:0}),w=a=>{k.id=a,k.page=1,L(),setTimeout((()=>{y.value=!1}),500)},L=async()=>{_.value=await async function(a,e){const{datas:s}=await p.get(a?"video/group":"video/timeline/all",{id:a,offset:e});return s}(k.id,k.page-1)};return b((()=>{L(),o()})),(i,o)=>{const p=j("ArrowRight"),g=a,f=t,V=s,b=e;return v(),l(d,null,[r(b,{placement:"bottom-end",width:1e3,trigger:"hover",visible:y.value,"onUpdate:visible":o[1]||(o[1]=a=>y.value=a)},{reference:h((()=>[r(f,{plain:"",round:""},{default:h((()=>[M,r(g,null,{default:h((()=>[r(p)])),_:1})])),_:1})])),default:h((()=>[r(V,{height:"440px",style:{padding:"20px"}},{default:h((()=>[c("div",E,[c("div",{class:"mv_title mv_hover",onClick:o[0]||(o[0]=a=>w(0))},"全部视频"),c("div",S,[(v(!0),l(d,null,n(x(u),(a=>(v(),l("div",{class:"mv_item",key:a.id},[c("span",{class:"mv_span mv_hover",onClick:e=>w(a.id)},m(a.name),9,A)])))),128))])])])),_:1})])),_:1},8,["visible"]),r(C,{mvVideoData:_.value},null,8,["mvVideoData"])],64)}}}),[["__scopeId","data-v-6c547539"]]);export{I as default};
