import{k as e,l as a,p as t,u as l,q as s,_ as n,D as i,w as o,H as r}from"./el-icon-gyngf5Lo.js";import{u,a as c,b as v,_ as d,M as m}from"./index-pwvkzsWl.js";import{z as p,r as f,f as h,u as g,w as y,s as I,h as _,k as b,p as k,v as w,aq as C,j as x,x as S,o as M,c as E,J as H,K as D,L,H as N,Q as P,ar as T,P as B,E as j,D as A,U as V,F as R,as as $,I as O,S as q,G as z,ad as U,R as K,m as W,V as F,q as G,ac as J,_ as Q,al as X,an as Y,ao as Z}from"./index-inZ3uqEB.js";import{f as ee}from"./index-Fumqgq3Z.js";import{t as ae,P as te}from"./index-HtNFS52l.js";const le=e({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),se={change:(e,t)=>[e,t].every(a)},ne=Symbol("carouselContextKey"),ie=(e,a,l)=>{const{children:s,addChild:n,removeChild:i}=u(x(),"ElCarouselItem"),o=p(),r=f(-1),c=f(null),v=f(!1),d=f(),m=f(0),S=f(!0),M=h((()=>"never"!==e.arrow&&!g(D))),E=h((()=>s.value.some((e=>e.props.label.toString().length>0)))),H=h((()=>"card"===e.type)),D=h((()=>"vertical"===e.direction)),L=h((()=>"auto"!==e.height?{height:e.height}:{height:`${m.value}px`,overflow:"hidden"})),N=ae((e=>{A(e)}),300,{trailing:!0}),P=ae((a=>{!function(a){"hover"===e.trigger&&a!==r.value&&(r.value=a)}(a)}),300);function T(){c.value&&(clearInterval(c.value),c.value=null)}function B(){e.interval<=0||!e.autoplay||c.value||(c.value=setInterval((()=>j()),e.interval))}const j=()=>{r.value<s.value.length-1?r.value=r.value+1:e.loop&&(r.value=0)};function A(a){if(w(a)){const e=s.value.filter((e=>e.props.name===a));e.length>0&&(a=s.value.indexOf(e[0]))}if(a=Number(a),Number.isNaN(a)||a!==Math.floor(a))return;const t=s.value.length,l=r.value;r.value=a<0?e.loop?t-1:0:a>=t?e.loop?0:t-1:a,l===r.value&&V(l),R()}function V(e){s.value.forEach(((a,t)=>{a.translateItem(t,r.value,e)}))}function R(){T(),e.pauseOnHover||B()}y((()=>r.value),((e,t)=>{V(t),S.value&&(e%=2,t%=2),t>-1&&a("change",e,t)})),y((()=>e.autoplay),(e=>{e?B():T()})),y((()=>e.loop),(()=>{A(r.value)})),y((()=>e.interval),(()=>{R()}));const $=I();return _((()=>{y((()=>s.value),(()=>{s.value.length>0&&A(e.initialIndex)}),{immediate:!0}),$.value=t(d.value,(()=>{V()})),B()})),b((()=>{T(),d.value&&$.value&&$.value.stop()})),k(ne,{root:d,isCardType:H,isVertical:D,items:s,loop:e.loop,addItem:n,removeItem:i,setActiveItem:A,setContainerHeight:function(a){"auto"===e.height&&(m.value=a)}}),{root:d,activeIndex:r,arrowDisplay:M,hasLabel:E,hover:v,isCardType:H,items:s,isVertical:D,containerStyle:L,isItemsTwoLength:S,handleButtonEnter:function(e){g(D)||s.value.forEach(((a,t)=>{e===function(e,a){var t,l,n,i;const o=g(s),r=o.length;if(0===r||!e.states.inStage)return!1;const u=a+1,c=a-1,v=r-1,d=o[v].states.active,m=o[0].states.active,p=null==(l=null==(t=o[u])?void 0:t.states)?void 0:l.active,f=null==(i=null==(n=o[c])?void 0:n.states)?void 0:i.active;return a===v&&m||p?"left":!!(0===a&&d||f)&&"right"}(a,t)&&(a.states.hover=!0)}))},handleButtonLeave:function(){g(D)||s.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){r.value=e},handleMouseEnter:function(){v.value=!0,e.pauseOnHover&&T()},handleMouseLeave:function(){v.value=!1,B()},setActiveItem:A,prev:function(){A(r.value-1)},next:function(){A(r.value+1)},PlaceholderItem:function(){var a;const t=null==(a=o.default)?void 0:a.call(o);if(!t)return null;const l=ee(t).filter((e=>C(e)&&"ElCarouselItem"===e.type.name));return 2===(null==l?void 0:l.length)&&e.loop&&!H.value?(S.value=!0,l):(S.value=!1,null)},isTwoLengthShow:e=>!S.value||(r.value<=1?e<=1:e>1),throttledArrowClick:N,throttledIndicatorHover:P}},oe=["onMouseenter","onClick"],re={key:0},ue=S({name:"ElCarousel"});var ce=n(S({...ue,props:le,emits:se,setup(e,{expose:a,emit:t}){const n=e,{root:i,activeIndex:o,arrowDisplay:r,hasLabel:u,hover:c,isCardType:v,items:d,isVertical:m,containerStyle:p,handleButtonEnter:f,handleButtonLeave:y,handleIndicatorClick:I,handleMouseEnter:_,handleMouseLeave:b,setActiveItem:k,prev:w,next:C,PlaceholderItem:x,isTwoLengthShow:S,throttledArrowClick:W,throttledIndicatorHover:F}=ie(n,t),G=l("carousel"),J=h((()=>{const e=[G.b(),G.m(n.direction)];return g(v)&&e.push(G.m("card")),e})),Q=h((()=>{const e=[G.e("indicators"),G.em("indicators",n.direction)];return g(u)&&e.push(G.em("indicators","labels")),"outside"===n.indicatorPosition&&e.push(G.em("indicators","outside")),g(m)&&e.push(G.em("indicators","right")),e}));return a({setActiveItem:k,prev:w,next:C}),(e,a)=>(M(),E("div",{ref_key:"root",ref:i,class:N(g(J)),onMouseenter:a[6]||(a[6]=P(((...e)=>g(_)&&g(_)(...e)),["stop"])),onMouseleave:a[7]||(a[7]=P(((...e)=>g(b)&&g(b)(...e)),["stop"]))},[H("div",{class:N(g(G).e("container")),style:q(g(p))},[g(r)?(M(),D(V,{key:0,name:"carousel-arrow-left",persisted:""},{default:L((()=>[A(H("button",{type:"button",class:N([g(G).e("arrow"),g(G).em("arrow","left")]),onMouseenter:a[0]||(a[0]=e=>g(f)("left")),onMouseleave:a[1]||(a[1]=(...e)=>g(y)&&g(y)(...e)),onClick:a[2]||(a[2]=P((e=>g(W)(g(o)-1)),["stop"]))},[B(g(s),null,{default:L((()=>[B(g(T))])),_:1})],34),[[j,("always"===e.arrow||g(c))&&(n.loop||g(o)>0)]])])),_:1})):R("v-if",!0),g(r)?(M(),D(V,{key:1,name:"carousel-arrow-right",persisted:""},{default:L((()=>[A(H("button",{type:"button",class:N([g(G).e("arrow"),g(G).em("arrow","right")]),onMouseenter:a[3]||(a[3]=e=>g(f)("right")),onMouseleave:a[4]||(a[4]=(...e)=>g(y)&&g(y)(...e)),onClick:a[5]||(a[5]=P((e=>g(W)(g(o)+1)),["stop"]))},[B(g(s),null,{default:L((()=>[B(g($))])),_:1})],34),[[j,("always"===e.arrow||g(c))&&(n.loop||g(o)<g(d).length-1)]])])),_:1})):R("v-if",!0),B(g(x)),O(e.$slots,"default")],6),"none"!==e.indicatorPosition?(M(),E("ul",{key:0,class:N(g(Q))},[(M(!0),E(z,null,U(g(d),((a,t)=>A((M(),E("li",{key:t,class:N([g(G).e("indicator"),g(G).em("indicator",e.direction),g(G).is("active",t===g(o))]),onMouseenter:e=>g(F)(t),onClick:P((e=>g(I)(t)),["stop"])},[H("button",{class:N(g(G).e("button"))},[g(u)?(M(),E("span",re,K(a.props.label),1)):R("v-if",!0)],2)],42,oe)),[[j,g(S)(t)]]))),128))],2)):R("v-if",!0)],34))}}),[["__file","carousel.vue"]]);const ve=e({name:{type:String,default:""},label:{type:[String,Number],default:""}}),de=(e,a)=>{const t=W(ne),l=x(),s=.83,n=f(),o=f(!1),r=f(0),u=f(1),c=f(!1),v=f(!1),d=f(!1),m=f(!1),{isCardType:p,isVertical:h}=t;const y=(e,a,l)=>{var o;const f=g(p),y=null!=(o=t.items.value.length)?o:Number.NaN,I=e===a;f||i(l)||(m.value=I||e===l),!I&&y>2&&t.loop&&(e=function(e,a,t){const l=t-1,s=t/2;return 0===a&&e===l?-1:a===l&&0===e?t:e<a-1&&a-e>=s?t+1:e>a+1&&e-a>=s?-2:e}(e,a,y));const _=g(h);c.value=I,f?(d.value=Math.round(Math.abs(e-a))<=1,r.value=function(e,a){var l,s;const n=g(h)?(null==(l=t.root.value)?void 0:l.offsetHeight)||0:(null==(s=t.root.value)?void 0:s.offsetWidth)||0;return d.value?n*(1.17*(e-a)+1)/4:e<a?-1.83*n/4:3.83*n/4}(e,a),u.value=g(c)?1:s):r.value=function(e,a,l){const s=t.root.value;return s?((l?s.offsetHeight:s.offsetWidth)||0)*(e-a):0}(e,a,_),v.value=!0,I&&n.value&&t.setContainerHeight(n.value.offsetHeight)};return _((()=>{t.addItem({props:e,states:F({hover:o,translate:r,scale:u,active:c,ready:v,inStage:d,animating:m}),uid:l.uid,translateItem:y})})),G((()=>{t.removeItem(l.uid)})),{carouselItemRef:n,active:c,animating:m,hover:o,inStage:d,isVertical:h,translate:r,isCardType:p,scale:u,ready:v,handleItemClick:function(){if(t&&g(p)){const e=t.items.value.findIndex((({uid:e})=>e===l.uid));t.setActiveItem(e)}}}},me=S({name:"ElCarouselItem"});var pe=n(S({...me,props:ve,setup(e){const a=e,t=l("carousel"),{carouselItemRef:s,active:n,animating:i,hover:o,inStage:r,isVertical:u,translate:c,isCardType:v,scale:d,ready:m,handleItemClick:p}=de(a),f=h((()=>({transform:[`${"translate"+(g(u)?"Y":"X")}(${g(c)}px)`,`scale(${g(d)})`].join(" ")})));return(e,a)=>A((M(),E("div",{ref_key:"carouselItemRef",ref:s,class:N([g(t).e("item"),g(t).is("active",g(n)),g(t).is("in-stage",g(r)),g(t).is("hover",g(o)),g(t).is("animating",g(i)),{[g(t).em("item","card")]:g(v),[g(t).em("item","card-vertical")]:g(v)&&g(u)}]),style:q(g(f)),onClick:a[0]||(a[0]=(...e)=>g(p)&&g(p)(...e))},[g(v)?A((M(),E("div",{key:0,class:N(g(t).e("mask"))},null,2)),[[j,!g(n)]]):R("v-if",!0),O(e.$slots,"default")],6)),[[j,g(m)]])}}),[["__file","carousel-item.vue"]]);const fe=o(ce,{CarouselItem:pe}),he=r(pe),ge={class:"swiper"},ye=["src","onClick"],Ie=Q(S({__name:"index",setup(e){const{getBanners:a}=c(),{banners:t}=J(c());_((async()=>{await a()}));return(e,a)=>{const l=he,s=fe;return M(),E("div",ge,[B(s,{interval:2e3,type:"card",height:"250px",trigger:"click","pause-on-hover":!1,autoplay:!1},{default:L((()=>[(M(!0),E(z,null,U(g(t),(e=>(M(),D(l,{key:e.bannerId},{default:L((()=>[H("img",{class:"swiper_img",src:e.pic,alt:"",onClick:e=>{}},null,8,ye)])),_:2},1024)))),128))])),_:1})])}}}),[["__scopeId","data-v-fa860417"]]),_e={class:"exclusive_playlist"},be={class:"block"},ke={class:"block_item"},we={class:"text"},Ce=Q(S({__name:"index",setup(e){const{exclusivePlaylistData:a}=J(v()),{getExclusivePlaylistData:t}=v();return _((async()=>{await t()})),(e,t)=>(M(),E("div",_e,[B(d,{title:"专属歌单"}),H("div",be,[(M(!0),E(z,null,U(g(a),((e,a)=>(M(),E("div",{class:"block_list",key:a},[H("div",ke,[B(te,{imgSrc:e.picUrl},null,8,["imgSrc"])]),H("div",we,K(e.name),1)])))),128))])]))}}),[["__scopeId","data-v-2cd979ce"]]),xe={class:"RecommendedMusic"},Se={class:"music_list"},Me=["onDblclick"],Ee=["src"],He={class:"music_item_right"},De=Q(S({__name:"index",setup(e){const{recommendedMusicData:a}=J(v()),{getRecommendedMusicData:t}=v(),{playMusic:l}=X();return _((async()=>{await t()})),(e,t)=>(M(),E("div",xe,[B(d,{title:"推荐新音乐"}),H("div",Se,[(M(!0),E(z,null,U(g(a),(e=>(M(),E("div",{class:"music_item",key:e.id,onDblclick:a=>g(l)(e.id)},[H("img",{src:e.picUrl,alt:""},null,8,Ee),H("div",He,[H("div",null,K(e.name),1),H("div",null,K(e.song.artists[0].name),1)])],40,Me)))),128))])]))}}),[["__scopeId","data-v-0aa15fa7"]]),Le={class:"discover"},Ne=(e=>(Y("data-v-42bdcabc"),e=e(),Z(),e))((()=>H("h1",null,"推荐",-1))),Pe=Q(S({__name:"index",setup:e=>(e,a)=>(M(),E("div",Le,[Ne,B(Ie),B(Ce),B(De),B(m)]))}),[["__scopeId","data-v-42bdcabc"]]);export{Pe as default};
