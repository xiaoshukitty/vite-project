import{E as a}from"./el-icon-rFI16g_O.js";import"./el-popper-Zi5sdun8.js";import{E as e}from"./el-popover-VhMYXCqQ.js";import{E as s}from"./el-scrollbar-d4Q-6IYo.js";import{E as t}from"./el-button-3XUElqew.js";import{P as i}from"./index-aHVtnSO3.js";import{h as o,c as l,Z as d,$ as r,o as n,t as v,y as m,z as p,_ as c,a5 as u,a4 as _,r as f,Y as g,O as j,a as b,L as y,m as V,u as h,a9 as x,aa as k}from"./index-jEHNIbzc.js";import"./use-form-item-a0sMnsNu.js";import"./use-global-config-9MCwe-7H.js";import"./error-lyDbv7Kx.js";import"./index-Xq-FhIN5.js";import"./index-8z4FJj0c.js";const w={class:"mv_video"},L={class:"title"},D=c(o({__name:" MvVideo",props:{mvVideoData:{type:Object,default:""}},setup:a=>(e,s)=>(n(),l("div",w,[(n(!0),l(d,null,r(a.mvVideoData,(({data:a})=>(n(),l("div",{class:"mv_block",key:a.vid},[v(i,{imgSrc:a.coverUrl},null,8,["imgSrc"]),m("div",L,p(a.title),1)])))),128))]))}),[["__scopeId","data-v-3f1dadbe"]]);const E=_("useMvVideoStore",(()=>{const a=f([]);return{mvVideoList:a,getMvVideoList:async()=>{a.value.length||(a.value=await async function(){const{data:a}=await u.get("video/group/list");return a}())}}})),M={style:{padding:"20px"}},C=(a=>(x("data-v-091622e7"),a=a(),k(),a))((()=>m("span",null,"全部视频",-1))),S={class:"mv_container"},I={class:"mv_list"},O=["onClick"],U=c(o({__name:"index",setup(i){const{getMvVideoList:o}=E(),{mvVideoList:c}=g(E()),_=f([]),x=f(!1),k=j({page:1,id:0}),w=a=>{k.id=a,k.page=1,L(),setTimeout((()=>{x.value=!1}),500)},L=async()=>{_.value=await async function(a,e){const{datas:s}=await u.get(a?"video/group":"video/timeline/all",{id:a,offset:e});return s}(k.id,k.page-1)};return b((()=>{L(),o()})),(i,o)=>{const u=y("ArrowRight"),f=a,g=t,j=s,b=e;return n(),l("div",M,[v(b,{placement:"bottom-end",width:1e3,trigger:"hover",visible:x.value,"onUpdate:visible":o[1]||(o[1]=a=>x.value=a)},{reference:V((()=>[v(g,{plain:"",round:""},{default:V((()=>[C,v(f,null,{default:V((()=>[v(u)])),_:1})])),_:1})])),default:V((()=>[v(j,{height:"440px",style:{padding:"20px"}},{default:V((()=>[m("div",S,[m("div",{class:"mv_title mv_hover",onClick:o[0]||(o[0]=a=>w(0))},"全部视频"),m("div",I,[(n(!0),l(d,null,r(h(c),(a=>(n(),l("div",{class:"mv_item",key:a.id},[m("span",{class:"mv_span mv_hover",onClick:e=>w(a.id)},p(a.name),9,O)])))),128))])])])),_:1})])),_:1},8,["visible"]),v(D,{mvVideoData:_.value},null,8,["mvVideoData"])])}}}),[["__scopeId","data-v-091622e7"]]);export{U as default};
