import{E as a}from"./el-icon-zROW0xRP.js";import"./el-popper-tLMUWgLI.js";import{E as e}from"./el-popover-qrX-rKwo.js";import{E as t}from"./el-scrollbar-VWkfg2Pk.js";import{b as s,E as i,a as o}from"./el-skeleton-item-P0Xel5jp.js";import{E as l}from"./el-button-6DhhUwCE.js";import{P as n}from"./index-m5WVTvVs.js";import{h as d,l as r,m,o as v,t as p,c as u,$ as c,y as g,Z as f,z as _,_ as h,a5 as y,a4 as j,r as k,Y as b,O as x,a as L,L as V,u as w,a9 as E,aa as D}from"./index--VxVIP3C.js";import{u as M}from"./user-49O2DwXC.js";import"./use-form-item-JgR895zC.js";import"./use-global-config-887mmoG7.js";import"./error-lyDbv7Kx.js";import"./index-e400o9Cf.js";import"./index-MVxKL2lZ.js";const C={class:"mv_video"},S={class:"title"},I=h(d({__name:" MvVideo",props:{mvVideoData:{type:Object,default:""},skeletonLoading:{type:Boolean,default:!1}},setup:a=>(e,t)=>{const l=i,d=o,h=s;return v(),r(h,{style:{width:"100%"},fill:""},{default:m((()=>[p(d,{class:"skelton",animated:"",count:1,loading:a.skeletonLoading},{template:m((()=>[(v(),u(f,null,c(9,((a,e)=>g("div",{key:e},[p(l,{variant:"image",style:{height:"300px","border-radius":"10px"}}),p(l,{variant:"h3",style:{width:"100%","margin-top":"5px"}})]))),64))])),default:m((()=>[g("div",C,[(v(!0),u(f,null,c(a.mvVideoData,(({data:a})=>(v(),u("div",{class:"mv_block",key:a.vid},[p(n,{imgSrc:a.coverUrl,style:{height:"280px"}},null,8,["imgSrc"]),g("div",S,_(a.title),1)])))),128))])])),_:1},8,["loading"])])),_:1})}}),[["__scopeId","data-v-aa04182d"]]);const O=j("useMvVideoStore",(()=>{const a=k([]);return{mvVideoList:a,getMvVideoList:async()=>{a.value.length||(a.value=await async function(){const{data:a}=await y.get("video/group/list");return a}())}}})),U={style:{padding:"20px"}},z=(a=>(E("data-v-01ba2b81"),a=a(),D(),a))((()=>g("span",null,"全部视频",-1))),A={class:"mv_container"},B={class:"mv_list"},P=["onClick"],R=h(d({__name:"index",setup(n){const{getMvVideoList:d}=O(),{mvVideoList:r}=b(O()),{skeletonLoading:h}=b(M()),j=k([]),E=k(!1),D=x({page:1,id:0}),C=a=>{D.id=a,D.page=1,S(),setTimeout((()=>{E.value=!1}),500)},S=async()=>{j.value=await async function(a,e){const{datas:t}=await y.get(a?"video/group":"video/timeline/all",{id:a,offset:e});return t}(D.id,D.page-1)};return L((()=>{S(),d()})),(n,d)=>{const y=i,k=V("ArrowRight"),b=a,x=l,L=o,D=s,M=t,S=e;return v(),u("div",U,[p(S,{placement:"bottom-end",width:1e3,trigger:"hover",visible:E.value,"onUpdate:visible":d[1]||(d[1]=a=>E.value=a)},{reference:m((()=>[p(D,{style:{},fill:""},{default:m((()=>[p(L,{class:"skelton",animated:"",count:1,loading:w(h)},{template:m((()=>[p(y,{variant:"h3",class:"skelton-title"})])),default:m((()=>[p(x,{plain:"",round:""},{default:m((()=>[g("div",null,[z,p(b,null,{default:m((()=>[p(k)])),_:1})])])),_:1})])),_:1},8,["loading"])])),_:1})])),default:m((()=>[p(M,{height:"440px",style:{padding:"20px"}},{default:m((()=>[g("div",A,[g("div",{class:"mv_title mv_hover",onClick:d[0]||(d[0]=a=>C(0))},"全部视频"),g("div",B,[(v(!0),u(f,null,c(w(r),(a=>(v(),u("div",{class:"mv_item",key:a.id},[g("span",{class:"mv_span mv_hover",onClick:e=>C(a.id)},_(a.name),9,P)])))),128))])])])),_:1})])),_:1},8,["visible"]),p(I,{mvVideoData:j.value,skeletonLoading:w(h)},null,8,["mvVideoData","skeletonLoading"])])}}}),[["__scopeId","data-v-01ba2b81"]]);export{R as default};
