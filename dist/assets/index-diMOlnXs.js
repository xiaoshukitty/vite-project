import{E as a}from"./el-icon-lLev9OLe.js";import"./el-popper-5sk2KZRR.js";import{E as e}from"./el-popover-RBVgVJvE.js";import{E as s}from"./el-scrollbar-SxMwvY1X.js";import{E as t}from"./el-button-M2FsBp1g.js";import{P as i}from"./index-TM552BGQ.js";import{h as o,c as l,Z as r,$ as d,o as n,t as v,y as m,z as c,_ as p,a5 as u,a4 as _,r as f,Y as g,O as j,a as b,L as V,m as h,u as y,a9 as x,aa as k}from"./index-qsd7PtRw.js";import"./use-form-item--ao8u_XJ.js";import"./use-global-config-CwZlgeMO.js";import"./error-lyDbv7Kx.js";import"./index-5mjrU7A1.js";import"./index-DNCEDO81.js";const w={class:"mv_video"},L={class:"title"},D=p(o({__name:" MvVideo",props:{mvVideoData:{type:Object,default:""}},setup:a=>(e,s)=>(n(),l("div",w,[(n(!0),l(r,null,d(a.mvVideoData,(({data:a})=>(n(),l("div",{class:"mv_block",key:a.vid},[v(i,{imgSrc:a.coverUrl},null,8,["imgSrc"]),m("div",L,c(a.title),1)])))),128))]))}),[["__scopeId","data-v-3f1dadbe"]]);const E=_("useMvVideoStore",(()=>{const a=f([]);return{mvVideoList:a,getMvVideoList:async()=>{a.value.length||(a.value=await async function(){const{data:a}=await u.get("video/group/list");return a}())}}})),M=(a=>(x("data-v-6c547539"),a=a(),k(),a))((()=>m("span",null,"全部视频",-1))),C={class:"mv_container"},S={class:"mv_list"},I=["onClick"],O=p(o({__name:"index",setup(i){const{getMvVideoList:o}=E(),{mvVideoList:p}=g(E()),_=f([]),x=f(!1),k=j({page:1,id:0}),w=a=>{k.id=a,k.page=1,L(),setTimeout((()=>{x.value=!1}),500)},L=async()=>{_.value=await async function(a,e){const{datas:s}=await u.get(a?"video/group":"video/timeline/all",{id:a,offset:e});return s}(k.id,k.page-1)};return b((()=>{L(),o()})),(i,o)=>{const u=V("ArrowRight"),f=a,g=t,j=s,b=e;return n(),l(r,null,[v(b,{placement:"bottom-end",width:1e3,trigger:"hover",visible:x.value,"onUpdate:visible":o[1]||(o[1]=a=>x.value=a)},{reference:h((()=>[v(g,{plain:"",round:""},{default:h((()=>[M,v(f,null,{default:h((()=>[v(u)])),_:1})])),_:1})])),default:h((()=>[v(j,{height:"440px",style:{padding:"20px"}},{default:h((()=>[m("div",C,[m("div",{class:"mv_title mv_hover",onClick:o[0]||(o[0]=a=>w(0))},"全部视频"),m("div",S,[(n(!0),l(r,null,d(y(p),(a=>(n(),l("div",{class:"mv_item",key:a.id},[m("span",{class:"mv_span mv_hover",onClick:e=>w(a.id)},c(a.name),9,I)])))),128))])])])),_:1})])),_:1},8,["visible"]),v(D,{mvVideoData:_.value},null,8,["mvVideoData"])],64)}}}),[["__scopeId","data-v-6c547539"]]);export{O as default};
