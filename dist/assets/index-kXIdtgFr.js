import{c as e,e as t,s as a,u as l,E as s,_ as i,o as n,w as o,t as r}from"./el-icon-xOR8YP1z.js";import{u,E as c,a as d,b as v,c as m,_ as p,M as h}from"./index-6umlKSge.js";import{u as f}from"./user-5kujzLu0.js";import{D as g,r as y,j as k,u as _,f as I,X as w,a as b,b as x,E as C,C as M,k as S,ag as E,h as L,o as H,c as j,y as N,l as T,m as D,s as A,M as B,ah as P,t as $,H as V,I as O,T as R,A as z,ai as q,q as U,n as W,Z as X,$ as Y,z as K,x as Z,O as F,ab as G,Y as J,_ as Q,a2 as ee,a7 as te,a9 as ae,aa as le}from"./index-hdHR_QWJ.js";import{u as se}from"./index-SKBfyAds.js";import{f as ie}from"./index-c8LezP3t.js";import{t as ne,P as oe}from"./index-rPg_AO9V.js";import"./index-RhFZZ9Kp.js";const re=e({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),ue={change:(e,a)=>[e,a].every(t)},ce=Symbol("carouselContextKey"),de=(e,t,l)=>{const{children:s,addChild:i,removeChild:n}=se(M(),"ElCarouselItem"),o=g(),r=y(-1),u=y(null),c=y(!1),d=y(),v=y(0),m=y(!0),p=k((()=>"never"!==e.arrow&&!_(L))),h=k((()=>s.value.some((e=>e.props.label.toString().length>0)))),f=k((()=>"card"===e.type)),L=k((()=>"vertical"===e.direction)),H=k((()=>"auto"!==e.height?{height:e.height}:{height:`${v.value}px`,overflow:"hidden"})),j=ne((e=>{B(e)}),300,{trailing:!0}),N=ne((t=>{!function(t){"hover"===e.trigger&&t!==r.value&&(r.value=t)}(t)}),300);function T(){u.value&&(clearInterval(u.value),u.value=null)}function D(){e.interval<=0||!e.autoplay||u.value||(u.value=setInterval((()=>A()),e.interval))}const A=()=>{r.value<s.value.length-1?r.value=r.value+1:e.loop&&(r.value=0)};function B(t){if(S(t)){const e=s.value.filter((e=>e.props.name===t));e.length>0&&(t=s.value.indexOf(e[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const a=s.value.length,l=r.value;r.value=t<0?e.loop?a-1:0:t>=a?e.loop?0:a-1:t,l===r.value&&P(l),$()}function P(e){s.value.forEach(((t,a)=>{t.translateItem(a,r.value,e)}))}function $(){T(),e.pauseOnHover||D()}I((()=>r.value),((e,a)=>{P(a),m.value&&(e%=2,a%=2),a>-1&&t("change",e,a)})),I((()=>e.autoplay),(e=>{e?D():T()})),I((()=>e.loop),(()=>{B(r.value)})),I((()=>e.interval),(()=>{$()}));const V=w();return b((()=>{I((()=>s.value),(()=>{s.value.length>0&&B(e.initialIndex)}),{immediate:!0}),V.value=a(d.value,(()=>{P()})),D()})),x((()=>{T(),d.value&&V.value&&V.value.stop()})),C(ce,{root:d,isCardType:f,isVertical:L,items:s,loop:e.loop,addItem:i,removeItem:n,setActiveItem:B,setContainerHeight:function(t){"auto"===e.height&&(v.value=t)}}),{root:d,activeIndex:r,arrowDisplay:p,hasLabel:h,hover:c,isCardType:f,items:s,isVertical:L,containerStyle:H,isItemsTwoLength:m,handleButtonEnter:function(e){_(L)||s.value.forEach(((t,a)=>{e===function(e,t){var a,l,i,n;const o=_(s),r=o.length;if(0===r||!e.states.inStage)return!1;const u=t+1,c=t-1,d=r-1,v=o[d].states.active,m=o[0].states.active,p=null==(l=null==(a=o[u])?void 0:a.states)?void 0:l.active,h=null==(n=null==(i=o[c])?void 0:i.states)?void 0:n.active;return t===d&&m||p?"left":!!(0===t&&v||h)&&"right"}(t,a)&&(t.states.hover=!0)}))},handleButtonLeave:function(){_(L)||s.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){r.value=e},handleMouseEnter:function(){c.value=!0,e.pauseOnHover&&T()},handleMouseLeave:function(){c.value=!1,D()},setActiveItem:B,prev:function(){B(r.value-1)},next:function(){B(r.value+1)},PlaceholderItem:function(){var t;const a=null==(t=o.default)?void 0:t.call(o);if(!a)return null;const l=ie(a).filter((e=>E(e)&&"ElCarouselItem"===e.type.name));return 2===(null==l?void 0:l.length)&&e.loop&&!f.value?(m.value=!0,l):(m.value=!1,null)},isTwoLengthShow:e=>!m.value||(r.value<=1?e<=1:e>1),throttledArrowClick:j,throttledIndicatorHover:N}},ve=["onMouseenter","onClick"],me={key:0},pe=L({name:"ElCarousel"});var he=i(L({...pe,props:re,emits:ue,setup(e,{expose:t,emit:a}){const i=e,{root:n,activeIndex:o,arrowDisplay:r,hasLabel:u,hover:c,isCardType:d,items:v,isVertical:m,containerStyle:p,handleButtonEnter:h,handleButtonLeave:f,handleIndicatorClick:g,handleMouseEnter:y,handleMouseLeave:I,setActiveItem:w,prev:b,next:x,PlaceholderItem:C,isTwoLengthShow:M,throttledArrowClick:S,throttledIndicatorHover:E}=de(i,a),L=l("carousel"),Z=k((()=>{const e=[L.b(),L.m(i.direction)];return _(d)&&e.push(L.m("card")),e})),F=k((()=>{const e=[L.e("indicators"),L.em("indicators",i.direction)];return _(u)&&e.push(L.em("indicators","labels")),"outside"===i.indicatorPosition&&e.push(L.em("indicators","outside")),_(m)&&e.push(L.em("indicators","right")),e}));return t({setActiveItem:w,prev:b,next:x}),(e,t)=>(H(),j("div",{ref_key:"root",ref:n,class:A(_(Z)),onMouseenter:t[6]||(t[6]=B(((...e)=>_(y)&&_(y)(...e)),["stop"])),onMouseleave:t[7]||(t[7]=B(((...e)=>_(I)&&_(I)(...e)),["stop"]))},[N("div",{class:A(_(L).e("container")),style:W(_(p))},[_(r)?(H(),T(R,{key:0,name:"carousel-arrow-left",persisted:""},{default:D((()=>[O(N("button",{type:"button",class:A([_(L).e("arrow"),_(L).em("arrow","left")]),onMouseenter:t[0]||(t[0]=e=>_(h)("left")),onMouseleave:t[1]||(t[1]=(...e)=>_(f)&&_(f)(...e)),onClick:t[2]||(t[2]=B((e=>_(S)(_(o)-1)),["stop"]))},[$(_(s),null,{default:D((()=>[$(_(P))])),_:1})],34),[[V,("always"===e.arrow||_(c))&&(i.loop||_(o)>0)]])])),_:1})):z("v-if",!0),_(r)?(H(),T(R,{key:1,name:"carousel-arrow-right",persisted:""},{default:D((()=>[O(N("button",{type:"button",class:A([_(L).e("arrow"),_(L).em("arrow","right")]),onMouseenter:t[3]||(t[3]=e=>_(h)("right")),onMouseleave:t[4]||(t[4]=(...e)=>_(f)&&_(f)(...e)),onClick:t[5]||(t[5]=B((e=>_(S)(_(o)+1)),["stop"]))},[$(_(s),null,{default:D((()=>[$(_(q))])),_:1})],34),[[V,("always"===e.arrow||_(c))&&(i.loop||_(o)<_(v).length-1)]])])),_:1})):z("v-if",!0),$(_(C)),U(e.$slots,"default")],6),"none"!==e.indicatorPosition?(H(),j("ul",{key:0,class:A(_(F))},[(H(!0),j(X,null,Y(_(v),((t,a)=>O((H(),j("li",{key:a,class:A([_(L).e("indicator"),_(L).em("indicator",e.direction),_(L).is("active",a===_(o))]),onMouseenter:e=>_(E)(a),onClick:B((e=>_(g)(a)),["stop"])},[N("button",{class:A(_(L).e("button"))},[_(u)?(H(),j("span",me,K(t.props.label),1)):z("v-if",!0)],2)],42,ve)),[[V,_(M)(a)]]))),128))],2)):z("v-if",!0)],34))}}),[["__file","carousel.vue"]]);const fe=e({name:{type:String,default:""},label:{type:[String,Number],default:""}}),ge=(e,t)=>{const a=Z(ce),l=M(),s=.83,i=y(),o=y(!1),r=y(0),u=y(1),c=y(!1),d=y(!1),v=y(!1),m=y(!1),{isCardType:p,isVertical:h}=a;const f=(e,t,l)=>{var o;const f=_(p),g=null!=(o=a.items.value.length)?o:Number.NaN,y=e===t;f||n(l)||(m.value=y||e===l),!y&&g>2&&a.loop&&(e=function(e,t,a){const l=a-1,s=a/2;return 0===t&&e===l?-1:t===l&&0===e?a:e<t-1&&t-e>=s?a+1:e>t+1&&e-t>=s?-2:e}(e,t,g));const k=_(h);c.value=y,f?(v.value=Math.round(Math.abs(e-t))<=1,r.value=function(e,t){var l,s;const i=_(h)?(null==(l=a.root.value)?void 0:l.offsetHeight)||0:(null==(s=a.root.value)?void 0:s.offsetWidth)||0;return v.value?i*(1.17*(e-t)+1)/4:e<t?-1.83*i/4:3.83*i/4}(e,t),u.value=_(c)?1:s):r.value=function(e,t,l){const s=a.root.value;return s?((l?s.offsetHeight:s.offsetWidth)||0)*(e-t):0}(e,t,k),d.value=!0,y&&i.value&&a.setContainerHeight(i.value.offsetHeight)};return b((()=>{a.addItem({props:e,states:F({hover:o,translate:r,scale:u,active:c,ready:d,inStage:v,animating:m}),uid:l.uid,translateItem:f})})),G((()=>{a.removeItem(l.uid)})),{carouselItemRef:i,active:c,animating:m,hover:o,inStage:v,isVertical:h,translate:r,isCardType:p,scale:u,ready:d,handleItemClick:function(){if(a&&_(p)){const e=a.items.value.findIndex((({uid:e})=>e===l.uid));a.setActiveItem(e)}}}},ye=L({name:"ElCarouselItem"});var ke=i(L({...ye,props:fe,setup(e){const t=e,a=l("carousel"),{carouselItemRef:s,active:i,animating:n,hover:o,inStage:r,isVertical:u,translate:c,isCardType:d,scale:v,ready:m,handleItemClick:p}=ge(t),h=k((()=>({transform:[`${"translate"+(_(u)?"Y":"X")}(${_(c)}px)`,`scale(${_(v)})`].join(" ")})));return(e,t)=>O((H(),j("div",{ref_key:"carouselItemRef",ref:s,class:A([_(a).e("item"),_(a).is("active",_(i)),_(a).is("in-stage",_(r)),_(a).is("hover",_(o)),_(a).is("animating",_(n)),{[_(a).em("item","card")]:_(d),[_(a).em("item","card-vertical")]:_(d)&&_(u)}]),style:W(_(h)),onClick:t[0]||(t[0]=(...e)=>_(p)&&_(p)(...e))},[_(d)?O((H(),j("div",{key:0,class:A(_(a).e("mask"))},null,2)),[[V,!_(i)]]):z("v-if",!0),U(e.$slots,"default")],6)),[[V,_(m)]])}}),[["__file","carousel-item.vue"]]);const _e=o(he,{CarouselItem:ke}),Ie=r(ke),we={class:"swiper"},be={class:"skelton-carousel"},xe=["src","onClick"],Ce=Q(L({__name:"index",setup(e){const{getBanners:t}=u(),{banners:a}=J(u()),{skeletonLoading:l}=J(f());b((async()=>{await t()}));return(e,t)=>{const s=c,i=Ie,n=_e,o=d,r=v;return H(),j("div",we,[$(r,{style:{width:"100%"},fill:""},{default:D((()=>[$(o,{class:"skelton",animated:"",count:1,loading:_(l)},{template:D((()=>[N("div",be,[$(s,{variant:"h3",class:"skelton-title1"}),$(s,{variant:"h3",class:"skelton-title2"}),$(s,{variant:"h3",class:"skelton-title3"})])])),default:D((()=>[$(n,{interval:2e3,type:"card",height:"250px",trigger:"click","pause-on-hover":!1,autoplay:!1},{default:D((()=>[(H(!0),j(X,null,Y(_(a),(e=>(H(),T(i,{key:e.bannerId},{default:D((()=>[N("img",{class:"swiper_img",src:e.pic,alt:"",onClick:e=>{}},null,8,xe)])),_:2},1024)))),128))])),_:1})])),_:1},8,["loading"])])),_:1})])}}}),[["__scopeId","data-v-4b8cd7c6"]]),Me={class:"exclusive_playlist"},Se={class:"skelton-list"},Ee={style:{"margin-top":"10px"}},Le={class:"block"},He=["onClick"],je={class:"text"},Ne=Q(L({__name:"index",setup(e){const{exclusivePlaylistData:t}=J(m()),{skeletonLoading:a}=J(f()),{getExclusivePlaylistData:l}=m(),s=ee();return b((async()=>{await l()})),(e,l)=>{const i=c,n=d,o=v;return H(),j("div",Me,[$(o,{style:{width:"100%"},fill:""},{default:D((()=>[$(n,{class:"skelton",animated:"",count:1,loading:_(a)},{template:D((()=>[$(i,{variant:"h3",class:"skelton-title"})])),default:D((()=>[$(p,{title:"专属歌单"})])),_:1},8,["loading"]),$(n,{class:"skelton",animated:"",count:10,loading:_(a)},{template:D((()=>[N("div",Se,[$(i,{variant:"image",style:{height:"300px"}}),N("div",Ee,[$(i,{variant:"h3",style:{width:"70%"}})])])])),default:D((()=>[N("div",Le,[(H(!0),j(X,null,Y(_(t),((e,t)=>(H(),j("div",{class:"block_list",key:t},[N("div",{class:"block_item",onClick:t=>(e=>{s.push({path:"/playList",query:{id:e.id}})})(e)},[$(oe,{imgSrc:e.picUrl},null,8,["imgSrc"])],8,He),N("div",je,K(e.name),1)])))),128))])])),_:1},8,["loading"])])),_:1})])}}}),[["__scopeId","data-v-80b9ed33"]]),Te={class:"RecommendedMusic"},De={class:"skelton-list"},Ae={class:"skelton-img"},Be={class:"skelton-text"},Pe={class:"music_list"},$e=["onDblclick"],Ve=["src"],Oe={class:"music_item_right"},Re=Q(L({__name:"index",setup(e){const{recommendedMusicData:t}=J(m()),{getRecommendedMusicData:a}=m(),{playMusic:l}=te(),{skeletonLoading:s}=J(f());return b((async()=>{await a()})),(e,a)=>{const i=c,n=d,o=v;return H(),j("div",Te,[$(o,{style:{width:"100%"},fill:""},{default:D((()=>[$(n,{class:"skelton",animated:"",count:1,loading:_(s)},{template:D((()=>[$(i,{variant:"h3",class:"skelton-title"})])),default:D((()=>[$(p,{title:"推荐新音乐"})])),_:1},8,["loading"]),$(n,{class:"skelton",animated:"",count:10,loading:_(s)},{template:D((()=>[N("div",De,[N("div",Ae,[$(i,{variant:"image",class:"skelton-img"})]),N("div",Be,[$(i,{variant:"h3",style:{width:"70%"}}),$(i,{variant:"h3",style:{width:"70%"}})])])])),default:D((()=>[N("div",Pe,[(H(!0),j(X,null,Y(_(t),(e=>(H(),j("div",{class:"music_item",key:e.id,onDblclick:t=>_(l)(e.id)},[N("img",{src:e.picUrl,alt:""},null,8,Ve),N("div",Oe,[N("div",null,K(e.name),1),N("div",null,K(e.song.artists[0].name),1)])],40,$e)))),128))])])),_:1},8,["loading"])])),_:1})])}}}),[["__scopeId","data-v-9159c790"]]),ze={class:"discover"},qe=(e=>(ae("data-v-c46f35de"),e=e(),le(),e))((()=>N("h1",null,"推荐",-1))),Ue=Q(L({__name:"index",setup:e=>(e,t)=>(H(),j("div",ze,[qe,$(Ce),$(Ne),$(Re),$(h)]))}),[["__scopeId","data-v-c46f35de"]]);export{Ue as default};
