import{i as e,n as a,e as t,d as l,c as s,k as n,g as o,o as r,p as i,a as u,_ as d,j as c,w as v,h as p,q as b,r as m,E as f,l as g,s as y,m as h}from"./base-1UC0UxbJ.js";import{aa as x,k as w,s as _,r as k,d as $,w as S,f as P,ab as C,o as T,c as N,A as E,z as R,y as B,u as A,J as I,i as D,p as F,g as U,R as z,G as M,a5 as j,a6 as V,ac as q,P as L,ad as W,j as K,n as H,Q as X,h as Y,q as G,v as J,x as O,_ as Q,a7 as Z,F as ee,X as ae,I as te,C as le,$ as se,B as ne,a8 as oe,a9 as re}from"./index-bMxtfwyO.js";import{u as ie,a as ue,r as de,b as ce,_ as ve,M as pe}from"./index-yNBLiSEo.js";import{C as be,t as me,m as fe,u as ge,U as ye,a as he}from"./theme-wovkuqGS.js";const xe=e=>x(e),we=(t,l)=>{if(!e)return!1;const s={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(l)],n=a(t,s);return["scroll","auto","overlay"].some((e=>n.includes(e)))},_e={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},ke=t({zIndex:{type:l([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),$e={scroll:({scrollTop:e,fixed:a})=>s(e)&&n(a),[be]:e=>n(e)},Se="ElAffix",Pe=w({name:Se});const Ce=v(d(w({...Pe,props:ke,emits:$e,setup(a,{expose:t,emit:l}){const s=a,n=o("affix"),d=_(),v=_(),p=_(),{height:b}=r(),{height:m,width:f,top:g,bottom:y,update:h}=i(v,{windowScroll:!1}),x=i(d),w=k(!1),D=k(0),F=k(0),U=$((()=>({height:w.value?`${m.value}px`:"",width:w.value?`${f.value}px`:""}))),z=$((()=>{if(!w.value)return{};const e=s.offset?c(s.offset):0;return{height:`${m.value}px`,width:`${f.value}px`,top:"top"===s.position?e:"",bottom:"bottom"===s.position?e:"",transform:F.value?`translateY(${F.value}px)`:"",zIndex:s.zIndex}})),M=()=>{if(p.value)if(D.value=p.value instanceof Window?document.documentElement.scrollTop:p.value.scrollTop||0,"top"===s.position)if(s.target){const e=x.bottom.value-s.offset-m.value;w.value=s.offset>g.value&&x.bottom.value>0,F.value=e<0?e:0}else w.value=s.offset>g.value;else if(s.target){const e=b.value-x.top.value-s.offset-m.value;w.value=b.value-s.offset<y.value&&b.value>x.top.value,F.value=e<0?-e:0}else w.value=b.value-s.offset<y.value};return S(w,(e=>l("change",e))),P((()=>{var a;s.target?(d.value=null!=(a=document.querySelector(s.target))?a:void 0,d.value||me(Se,`Target is not existed: ${s.target}`)):d.value=document.documentElement,p.value=((a,t)=>{if(!e)return;let l=a;for(;l;){if([window,document,document.documentElement].includes(l))return window;if(we(l,t))return l;l=l.parentNode}return l})(v.value,!0),h()})),u(p,"scroll",(()=>{h(),l("scroll",{scrollTop:D.value,fixed:w.value})})),C(M),t({update:M,updateRoot:h}),(e,a)=>(T(),N("div",{ref_key:"root",ref:v,class:B(A(n).b()),style:I(A(U))},[E("div",{class:B({[A(n).m("fixed")]:w.value}),style:I(A(z))},[R(e.$slots,"default")],6)],6))}}),[["__file","affix.vue"]])),Te=Symbol("tabsRootContextKey"),Ne=t({tabs:{type:l(Array),default:()=>fe([])}}),Ee="ElTabBar",Re=w({name:Ee});var Be=d(w({...Re,props:Ne,setup(e,{expose:a}){const t=e,l=U(),s=D(Te);s||me(Ee,"<el-tabs><el-tab-bar /></el-tabs>");const n=o("tabs"),r=k(),i=k(),u=()=>i.value=(()=>{let e=0,a=0;const n=["top","bottom"].includes(s.props.tabPosition)?"width":"height",o="width"===n?"x":"y",r="x"===o?"left":"top";return t.tabs.every((s=>{var o,i;const u=null==(i=null==(o=l.parent)?void 0:o.refs)?void 0:i[`tab-${s.uid}`];if(!u)return!1;if(!s.active)return!0;e=u[`offset${xe(r)}`],a=u[`client${xe(n)}`];const d=window.getComputedStyle(u);return"width"===n&&(t.tabs.length>1&&(a-=Number.parseFloat(d.paddingLeft)+Number.parseFloat(d.paddingRight)),e+=Number.parseFloat(d.paddingLeft)),!1})),{[n]:`${a}px`,transform:`translate${xe(o)}(${e}px)`}})();return S((()=>t.tabs),(async()=>{await F(),u()}),{immediate:!0}),p(r,(()=>u())),a({ref:r,update:u}),(e,a)=>(T(),N("div",{ref_key:"barRef",ref:r,class:B([A(n).e("active-bar"),A(n).is(A(s).props.tabPosition)]),style:I(i.value)},null,6))}}),[["__file","tab-bar.vue"]]);const Ae=t({panes:{type:l(Array),default:()=>fe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ie="ElTabNav",De=w({name:Ie,props:Ae,emits:{tabClick:(e,a,t)=>t instanceof Event,tabRemove:(e,a)=>a instanceof Event},setup(e,{expose:a,emit:t}){const l=U(),s=D(Te);s||me(Ie,"<el-tabs><tab-nav /></el-tabs>");const n=o("tabs"),r=b(),i=m(),u=k(),d=k(),c=k(),v=k(),g=k(!1),y=k(0),h=k(!1),x=k(!0),w=$((()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height")),_=$((()=>({transform:`translate${"width"===w.value?"X":"Y"}(-${y.value}px)`}))),C=()=>{if(!u.value)return;const e=u.value[`offset${xe(w.value)}`],a=y.value;if(!a)return;const t=a>e?a-e:0;y.value=t},T=()=>{if(!u.value||!d.value)return;const e=d.value[`offset${xe(w.value)}`],a=u.value[`offset${xe(w.value)}`],t=y.value;if(e-t<=a)return;const l=e-t>2*a?t+a:e-a;y.value=l},N=async()=>{const e=d.value;if(!(g.value&&c.value&&u.value&&e))return;await F();const a=c.value.querySelector(".is-active");if(!a)return;const t=u.value,l=["top","bottom"].includes(s.props.tabPosition),n=a.getBoundingClientRect(),o=t.getBoundingClientRect(),r=l?e.offsetWidth-o.width:e.offsetHeight-o.height,i=y.value;let v=i;l?(n.left<o.left&&(v=i-(o.left-n.left)),n.right>o.right&&(v=i+n.right-o.right)):(n.top<o.top&&(v=i-(o.top-n.top)),n.bottom>o.bottom&&(v=i+(n.bottom-o.bottom))),v=Math.max(v,0),y.value=Math.min(v,r)},E=()=>{var a;if(!d.value||!u.value)return;e.stretch&&(null==(a=v.value)||a.update());const t=d.value[`offset${xe(w.value)}`],l=u.value[`offset${xe(w.value)}`],s=y.value;l<t?(g.value=g.value||{},g.value.prev=s,g.value.next=s+l<t,t-s<l&&(y.value=t-l)):(g.value=!1,s>0&&(y.value=0))},R=e=>{const a=e.code,{up:t,down:l,left:s,right:n}=_e;if(![t,l,s,n].includes(a))return;const o=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),r=o.indexOf(e.target);let i;i=a===s||a===t?0===r?o.length-1:r-1:r<o.length-1?r+1:0,o[i].focus({preventScroll:!0}),o[i].click(),B()},B=()=>{x.value&&(h.value=!0)},A=()=>h.value=!1;return S(r,(e=>{"hidden"===e?x.value=!1:"visible"===e&&setTimeout((()=>x.value=!0),50)})),S(i,(e=>{e?setTimeout((()=>x.value=!0),50):x.value=!1})),p(c,E),P((()=>setTimeout((()=>N()),0))),z((()=>E())),a({scrollToActiveTab:N,removeFocus:A}),S((()=>e.panes),(()=>l.update()),{flush:"post",deep:!0}),()=>{const a=g.value?[M("span",{class:[n.e("nav-prev"),n.is("disabled",!g.value.prev)],onClick:C},[M(f,null,{default:()=>[M(j,null,null)]})]),M("span",{class:[n.e("nav-next"),n.is("disabled",!g.value.next)],onClick:T},[M(f,null,{default:()=>[M(V,null,null)]})])]:null,l=e.panes.map(((a,l)=>{var o,r,i,u;const d=a.uid,c=a.props.disabled,v=null!=(r=null!=(o=a.props.name)?o:a.index)?r:`${l}`,p=!c&&(a.isClosable||e.editable);a.index=`${l}`;const b=p?M(f,{class:"is-icon-close",onClick:e=>t("tabRemove",a,e)},{default:()=>[M(q,null,null)]}):null,m=(null==(u=(i=a.slots).label)?void 0:u.call(i))||a.props.label,g=!c&&a.active?0:-1;return M("div",{ref:`tab-${d}`,class:[n.e("item"),n.is(s.props.tabPosition),n.is("active",a.active),n.is("disabled",c),n.is("closable",p),n.is("focus",h.value)],id:`tab-${v}`,key:`tab-${d}`,"aria-controls":`pane-${v}`,role:"tab","aria-selected":a.active,tabindex:g,onFocus:()=>B(),onBlur:()=>A(),onClick:e=>{A(),t("tabClick",a,v,e)},onKeydown:e=>{!p||e.code!==_e.delete&&e.code!==_e.backspace||t("tabRemove",a,e)}},[m,b])}));return M("div",{ref:c,class:[n.e("nav-wrap"),n.is("scrollable",!!g.value),n.is(s.props.tabPosition)]},[a,M("div",{class:n.e("nav-scroll"),ref:u},[M("div",{class:[n.e("nav"),n.is(s.props.tabPosition),n.is("stretch",e.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:d,style:_.value,role:"tablist",onKeydown:R},[e.type?null:M(Be,{ref:v,tabs:[...e.panes]},null),l])])])}}}),Fe=t({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:l(Function),default:()=>!0},stretch:Boolean}),Ue=e=>K(e)||s(e),ze=w({name:"ElTabs",props:Fe,emits:{[ye]:e=>Ue(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>Ue(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>Ue(e),tabAdd:()=>!0},setup(e,{emit:a,slots:t,expose:l}){var s,n;const r=o("tabs"),{children:i,addChild:u,removeChild:d}=ie(U(),"ElTabPane"),c=k(),v=k(null!=(n=null!=(s=e.modelValue)?s:e.activeName)?n:"0"),p=async(t,l=!1)=>{var s,n,o;if(v.value!==t&&!g(t))try{!1!==await(null==(s=e.beforeLeave)?void 0:s.call(e,t,v.value))&&(v.value=t,l&&(a(ye,t),a("tabChange",t)),null==(o=null==(n=c.value)?void 0:n.removeFocus)||o.call(n))}catch(r){}},b=(e,t,l)=>{e.props.disabled||(p(t,!0),a("tabClick",e,l))},m=(e,t)=>{e.props.disabled||g(e.props.name)||(t.stopPropagation(),a("edit",e.props.name,"remove"),a("tabRemove",e.props.name))},y=()=>{a("edit",void 0,"add"),a("tabAdd")};return ge({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},$((()=>!!e.activeName))),S((()=>e.activeName),(e=>p(e))),S((()=>e.modelValue),(e=>p(e))),S(v,(async()=>{var e;await F(),null==(e=c.value)||e.scrollToActiveTab()})),L(Te,{props:e,currentName:v,registerPane:u,unregisterPane:d}),l({currentName:v}),()=>{const a=t.addIcon,l=e.editable||e.addable?M("span",{class:r.e("new-tab"),tabindex:"0",onClick:y,onKeydown:e=>{e.code===_e.enter&&y()}},[a?R(t,"addIcon"):M(f,{class:r.is("icon-plus")},{default:()=>[M(W,null,null)]})]):null,s=M("div",{class:[r.e("header"),r.is(e.tabPosition)]},[l,M(De,{ref:c,currentName:v.value,editable:e.editable,type:e.type,panes:i.value,stretch:e.stretch,onTabClick:b,onTabRemove:m},null)]),n=M("div",{class:r.e("content")},[R(t,"default")]);return M("div",{class:[r.b(),r.m(e.tabPosition),{[r.m("card")]:"card"===e.type,[r.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[s,n]:[n,s]])}}}),Me=t({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),je=["id","aria-hidden","aria-labelledby"],Ve="ElTabPane",qe=w({name:Ve});var Le=d(w({...qe,props:Me,setup(e){const a=e,t=U(),l=H(),s=D(Te);s||me(Ve,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const n=o("tab-pane"),r=k(),i=$((()=>a.closable||s.props.closable)),u=y((()=>{var e;return s.currentName.value===(null!=(e=a.name)?e:r.value)})),d=k(u.value),c=$((()=>{var e;return null!=(e=a.name)?e:r.value})),v=y((()=>!a.lazy||d.value||u.value));S(u,(e=>{e&&(d.value=!0)}));const p=X({uid:t.uid,slots:l,props:a,paneName:c,active:u,index:r,isClosable:i});return P((()=>{s.registerPane(p)})),Y((()=>{s.unregisterPane(p.uid)})),(e,a)=>A(v)?G((T(),N("div",{key:0,id:`pane-${A(c)}`,class:B(A(n).b()),role:"tabpanel","aria-hidden":!A(u),"aria-labelledby":`tab-${A(c)}`},[R(e.$slots,"default")],10,je)),[[J,A(u)]]):O("v-if",!0)}}),[["__file","tab-pane.vue"]]);const We=v(ze,{TabPane:Le}),Ke=h(Le);const He=Q({},[["render",function(e,a){return T(),N("div")}]]);const Xe=Q({},[["render",function(e,a){return T(),N("div",null,"分类歌单")}]]),Ye={class:"banner"},Ge=["src"],Je=Q(w({__name:"Banner",setup(e){const{getBanners:a}=ue(),{banners:t}=Z(ue());return P((async()=>{await a()})),(e,a)=>(T(),N("div",Ye,[(T(!0),N(ee,null,ae(A(de)(A(t),4),(e=>(T(),N("div",{class:"item",key:e.bannerId},[E("img",{src:e.pic,alt:""},null,8,Ge)])))),128))]))}}),[["__scopeId","data-v-1989013c"]]),Oe={class:"exclusive"},Qe={class:"list"},Ze=["src"],ea={style:{"font-size":".75rem"}},aa=Q(w({__name:"Exclusive",setup(e){const{exclusiveMusicData:a}=Z(ce()),{getExclusiveMusicData:t}=ce();return P((async()=>{await t()})),(e,t)=>{const l=ve;return T(),N("div",Oe,[M(l,{title:"独家放送"}),E("div",Qe,[(T(!0),N(ee,null,ae(A(a),(e=>(T(),N("div",{class:"item",key:e.id},[E("img",{src:e.picUrl,alt:""},null,8,Ze),E("span",ea,te(e.name),1)])))),128))])])}}}),[["__scopeId","data-v-91f6244b"]]),ta={class:"recommendationStation"},la={class:"list"},sa=["src"],na={class:"text"},oa=Q(w({__name:"RecommendationStation",setup(e){const{recommendationStationData:a}=Z(ce()),{getRecommendationStationData:t}=ce();return P((async()=>{await t()})),(e,t)=>{const l=ve;return T(),N("div",ta,[M(l,{title:"推荐电台"}),E("div",la,[(T(!0),N(ee,null,ae(A(a),(e=>(T(),N("div",{class:"item",key:e.id},[E("img",{src:e.picUrl,alt:""},null,8,sa),E("span",na,te(e.name),1)])))),128))])])}}}),[["__scopeId","data-v-6a8dcba4"]]),ra=w({__name:"index",setup:e=>(e,a)=>(T(),N(ee,null,[M(Je),M(aa),M(oa),M(pe)],64))});const ia=Q({},[["render",function(e,a){return T(),N("div",null,"歌手")}]]);const ua={class:"music"},da=(e=>(oe("data-v-9b3b3eaa"),e=e(),re(),e))((()=>E("h1",null,"音乐馆",-1))),ca={style:{"padding-left":"20px"}},va=Q(w({__name:"index",setup(e){const{menus:a,currentMenu:t}={menus:[{label:"精选",name:"Winnow"},{label:"排行",name:"Ranking"},{label:"歌手",name:"Singer"},{label:"分类歌单",name:"ClassifiedPlaylist"}],currentMenu:k("Winnow")},l=he(),s=k();return P((()=>{"dark"==l.theme?s.value=!1:s.value=!0})),S((()=>l.getTheme),(e=>{s.value="dark"!=e})),(e,l)=>{const n=Ke,o=We,r=Ce;return T(),N("div",ua,[da,M(r,{offset:56},{default:le((()=>[E("div",{style:{"padding-left":"20px"},class:B(s.value?"tabs_bg1":"tabs_bg")},[M(o,{modelValue:A(t),"onUpdate:modelValue":l[0]||(l[0]=e=>se(t)?t.value=e:null)},{default:le((()=>[(T(!0),N(ee,null,ae(A(a),(e=>(T(),ne(n,{key:e.name,label:e.label,name:e.name,class:"text-main"},null,8,["label","name"])))),128))])),_:1},8,["modelValue"])],2)])),_:1}),E("div",ca,["Ranking"===A(t)?(T(),ne(He,{key:0})):O("",!0),"ClassifiedPlaylist"===A(t)?(T(),ne(Xe,{key:1})):O("",!0),"Winnow"===A(t)?(T(),ne(ra,{key:2})):O("",!0),"Singer"===A(t)?(T(),ne(ia,{key:3})):O("",!0)])])}}}),[["__scopeId","data-v-9b3b3eaa"]]);export{va as default};
